<div class="password-form-container">
	<div class="form-card">
		<div class="form-header">
			<button class="btn-back" (click)="onCancel()">
				<svg width="20" height="20" viewBox="0 0 20 20" fill="none">
					<path d="M15 10H5M5 10L10 15M5 10L10 5" stroke="#171717" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
				</svg>
				<span>Back to Passwords</span>
			</button>
		</div>

		<h1 class="form-title">Secure password</h1>

		<div class="form-fields">
			<!-- URL and Title Row -->
			<div class="field-row">
				<div class="field-group">
					<input
						type="text"
						class="form-input"
						[(ngModel)]="passwordData.url"
						placeholder="https://example.com"
						(ngModelChange)="checkFormValidity()"
					/>
				</div>
				<div class="field-group">
					<input
						type="text"
						class="form-input"
						[(ngModel)]="passwordData.title"
						placeholder="Title"
						(ngModelChange)="checkFormValidity()"
					/>
				</div>
			</div>

			<!-- Email and Password Row -->
			<div class="field-row">
				<div class="field-group">
					<input
						type="email"
						class="form-input"
						[(ngModel)]="passwordData.email"
						placeholder="Email"
						(ngModelChange)="checkFormValidity()"
					/>
				</div>
				<div class="field-group">
					<input
						[type]="showPassword ? 'text' : 'password'"
						class="form-input"
						[(ngModel)]="passwordData.password"
						placeholder="Password"
						(ngModelChange)="checkFormValidity()"
					/>
					<div class="field-icon clickable" (click)="togglePasswordVisibility()">
						<svg *ngIf="!showPassword" width="22" height="19" viewBox="0 0 22 19" fill="none">
							<path
								d="M11 0C6 0 1.73 3.11 0 7.5C1.73 11.89 6 15 11 15C16 15 20.27 11.89 22 7.5C20.27 3.11 16 0 11 0ZM11 12.5C8.24 12.5 6 10.26 6 7.5C6 4.74 8.24 2.5 11 2.5C13.76 2.5 16 4.74 16 7.5C16 10.26 13.76 12.5 11 12.5ZM11 4.5C9.34 4.5 8 5.84 8 7.5C8 9.16 9.34 10.5 11 10.5C12.66 10.5 14 9.16 14 7.5C14 5.84 12.66 4.5 11 4.5Z"
								fill="#171717"
							/>
						</svg>
						<svg *ngIf="showPassword" width="22" height="19" viewBox="0 0 22 19" fill="none">
							<path
								d="M11 0C6 0 1.73 3.11 0 7.5C1.73 11.89 6 15 11 15C16 15 20.27 11.89 22 7.5C20.27 3.11 16 0 11 0ZM11 12.5C8.24 12.5 6 10.26 6 7.5C6 4.74 8.24 2.5 11 2.5C13.76 2.5 16 4.74 16 7.5C16 10.26 13.76 12.5 11 12.5ZM11 4.5C9.34 4.5 8 5.84 8 7.5C8 9.16 9.34 10.5 11 10.5C12.66 10.5 14 9.16 14 7.5C14 5.84 12.66 4.5 11 4.5Z"
								fill="#171717"
							/>
							<path d="M2 2L20 17" stroke="#171717" stroke-width="2" stroke-linecap="round" />
						</svg>
					</div>
				</div>
			</div>

			<!-- Folder and Toggle Row -->
			<div class="field-row">
				<div class="field-group folder-field">
					<input type="text" class="form-input" [(ngModel)]="passwordData.folder" placeholder="Folder" />
					<!-- <div class="field-icon">
						<svg width="12" height="8" viewBox="0 0 12 8" fill="none">
							<path d="M6 7.5L0.5 2L1.5 1L6 5.5L10.5 1L11.5 2L6 7.5Z" fill="#171717" />
						</svg>
					</div> -->
				</div>
				<div class="toggle-section">
					<span class="toggle-label">Inside a folder</span>
					<div class="toggle-switch" (click)="toggleFolder()">
						<div class="toggle-track" [class.active]="passwordData.insideFolder">
							<div class="toggle-thumb" [class.active]="passwordData.insideFolder"></div>
						</div>
					</div>
				</div>
			</div>

			<!-- Notes Field -->
			<div class="field-row">
				<div class="field-group notes-field">
					<textarea class="form-textarea" [(ngModel)]="passwordData.notes" placeholder="Notes" rows="4"></textarea>
				</div>
			</div>
		</div>

		<!-- Action Buttons -->
		<div class="form-actions">
			<button class="btn-cancel" (click)="onCancel()">Cancel</button>
			<button class="btn-save" (click)="onSave()" [disabled]="!formValid" [class.disabled]="!formValid">
				<span>Save password</span>
				<div class="save-icon">
					<svg width="15" height="15" viewBox="0 0 15 15" fill="none">
						<path d="M13.5 1.5L5.5 9.5L1.5 5.5L0 7L5.5 12.5L15 3L13.5 1.5Z" fill="white" />
					</svg>
				</div>
			</button>
		</div>
	</div>
</div>
