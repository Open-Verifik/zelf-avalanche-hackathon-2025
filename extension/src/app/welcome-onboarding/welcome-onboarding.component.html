<div class="zelf-card welcome-onboarding" *transloco="let t">
    <div class="zelf-card__header">
        <div class="welcome-onboarding__header-button">
            <button class="zelf-icon-button zelf-icon-button--40" [routerLink]="['/home']" *ngIf="showHomeButton">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 32 32">
                    <path
                        d="M16.0003 8.25366L22.667 14.2537V24.667H20.0003V16.667H12.0003V24.667H9.33366V14.2537L16.0003 8.25366ZM16.0003 4.66699L2.66699 16.667H6.66699V27.3337H14.667V19.3337H17.3337V27.3337H25.3337V16.667H29.3337L16.0003 4.66699Z"
                    />
                </svg>
            </button>
        </div>

        <div class="carousel">
            <div class="carousel__item-container">
                <div @swipeLeft class="carousel__item" *ngIf="carouselIndex === 0">
                    <img class="zelf-card__image" src="assets/images/animation_1.webp" alt="welcome" />
                    <h2 class="zelf-card__title carousel__title">{{ t("onboarding.step_1") }}</h2>
                    <p class="zelf-card__subtitle carousel__subtitle">{{ t("onboarding.step_1_description") }}</p>
                </div>

                <div @swipeLeft class="carousel__item" *ngIf="carouselIndex === 1">
                    <img class="zelf-card__image" src="assets/images/animation_2.webp" alt="welcome" />
                    <h2 class="zelf-card__title carousel__title">{{ t("onboarding.step_2") }}</h2>
                    <p class="zelf-card__subtitle carousel__subtitle">{{ t("onboarding.step_2_description") }}</p>
                </div>

                <div @swipeLeft class="carousel__item" *ngIf="carouselIndex === 2">
                    <img class="zelf-card__image" src="assets/images/animation_3.webp" alt="welcome" />
                    <h2 class="zelf-card__title carousel__title">{{ t("onboarding.step_3") }}</h2>
                    <p class="zelf-card__subtitle carousel__subtitle">{{ t("onboarding.step_3_description") }}</p>
                </div>
            </div>

            <div class="carousel__progress">
                <div class="carousel__progress-bar" [style.width]="carouselProgress + '%'"></div>
            </div>
        </div>
    </div>

    <form [formGroup]="form" class="zelf-card__content" (ngSubmit)="searchZelfName($event)">
        <div class="zelf-input">
            <input
                (input)="sanitizeZelfName()"
                (keydown.enter)="searchZelfName($event)"
                [placeholder]="t('common.search_your_zelf_name')"
                class="zelf-input__control"
                formControlName="zelfName"
                id="zelfName"
                maxlength="27"
                minlength="1"
                name="zelfName"
                required
                autocomplete="off"
            />

            <p class="zelf-input__postfix">.zelf</p>

            <button mat-icon-button type="submit" class="zelf-icon-button zelf-icon-button--black" [disabled]="form.invalid || loading">
                <ng-container *ngIf="!loading">
                    <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path
                            fill-rule="evenodd"
                            clip-rule="evenodd"
                            d="M11.76 10.27L17.49 16L16 17.49L10.27 11.76C9.2 12.53 7.91 13 6.5 13C2.91 13 0 10.09 0 6.5C0 2.91 2.91 0 6.5 0C10.09 0 13 2.91 13 6.5C13 7.91 12.53 9.2 11.76 10.27ZM6.5 2C4.01 2 2 4.01 2 6.5C2 8.99 4.01 11 6.5 11C8.99 11 11 8.99 11 6.5C11 4.01 8.99 2 6.5 2Z"
                        />
                    </svg>
                </ng-container>

                <mat-spinner *ngIf="loading" mode="indeterminate" diameter="18"></mat-spinner>
            </button>
        </div>

        <button class="zelf-button zelf-button--hyperlink" [routerLink]="['./find']">{{ t("welcome.dont_remember_zelfname") }}</button>
    </form>
</div>
