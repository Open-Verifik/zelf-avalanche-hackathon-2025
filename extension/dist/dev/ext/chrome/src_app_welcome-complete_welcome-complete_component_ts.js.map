{"version":3,"file":"src_app_welcome-complete_welcome-complete_component_ts.js","mappings":"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","sources":["./src/app/welcome-complete/welcome-complete.component.ts","./src/app/welcome-complete/welcome-complete.component.html"],"sourcesContent":["import { CommonModule } from \"@angular/common\";\nimport { Component, OnDestroy, OnInit } from \"@angular/core\";\nimport { MatButtonModule } from \"@angular/material/button\";\nimport { Router, RouterModule } from \"@angular/router\";\nimport { TranslocoModule } from \"@jsverse/transloco\";\n\nimport { ChromeService } from \"app/chrome.service\";\nimport { ZelfNamePipe } from \"app/pipes/zelf-name.pipe\";\nimport { WalletModel } from \"app/wallet\";\nimport { ZelfFlow, ZelfNameService } from \"app/zelf-name-service.service\";\nimport { MnemonicComponent } from \"../mnemonic/mnemonic.component\";\nimport { WalletService } from \"app/wallet.service\";\nimport { VaultService } from \"app/vault.service\";\nimport { ZelfLoaderComponent } from \"app/zelf-loader/zelf-loader.component\";\n\n@Component({\n    imports: [TranslocoModule, CommonModule, RouterModule, ZelfNamePipe, MatButtonModule, MnemonicComponent, ZelfLoaderComponent],\n    selector: \"welcome-complete\",\n    styleUrls: [\"./welcome-complete.component.scss\"],\n    templateUrl: \"./welcome-complete.component.html\",\n})\nexport class WelcomeCompleteComponent implements OnInit, OnDestroy {\n    flow: ZelfFlow = \"\";\n    loading: boolean = true;\n    isExtension: boolean = false;\n    wallet: Partial<WalletModel> | null = {};\n\n    constructor(\n        private _chromeService: ChromeService,\n        private _router: Router,\n        private _vaultService: VaultService,\n        private _walletService: WalletService,\n        private _zelfNameService: ZelfNameService\n    ) {\n        this.isExtension = this._chromeService.isExtension;\n\n        this._chromeService.removeItem(\"referralZelfName\");\n        this._chromeService.removeItem(\"zelfNameObject\");\n    }\n\n    async ngOnInit(): Promise<void> {\n        await this._walletService.removeDuplicateWalletsInStorage();\n\n        this.wallet = await this._walletService.getCurrentWallet();\n        this.flow = await this._zelfNameService.getFlow();\n\n        this.loading = false;\n    }\n\n    ngOnDestroy(): void {\n        this._vaultService.mnemonic = \"\";\n    }\n\n    complete(): void {\n        this._vaultService.password = \"\";\n\n        this._chromeService.removeItem(\"zelfName\");\n        this._chromeService.removeItem(\"zelfPrice\");\n        this._chromeService.removeItem(\"zelfReward\");\n    }\n\n    downloadQRCode(): void {\n        const link = document.createElement(\"a\");\n\n        link.href = this.wallet?.image as string;\n        link.download = `zelfproof_${this.wallet?.publicData?.zelfName}.png`;\n        link.click();\n    }\n\n    async onMnemonicUnlock(): Promise<void> {\n        await this._zelfNameService.setFlow(\"unlock\");\n        await this._zelfNameService.setZelfName(this.wallet?.publicData?.zelfName as string);\n\n        this._router.navigate([\"/security/biometrics\"], { queryParams: { return: \"/welcome/complete\" } });\n    }\n}\n","<div class=\"zelf-card\" *transloco=\"let t\">\n    <ng-container *ngIf=\"!loading\">\n        <div class=\"zelf-card__header welcome-complete__header\">\n            <h3 class=\"zelf-card__pretitle\">{{ t(\"welcome.your_zelf_name\") }}</h3>\n\n            <h2 class=\"zelf-card__title\">{{ wallet?.publicData?.zelfName | zelfName }}</h2>\n\n            <img class=\"qr-code mt-4\" [src]=\"wallet?.image\" alt=\"zelfProof\" />\n        </div>\n\n        <div class=\"zelf-card__content\">\n            <div class=\"zelf-action-row\">\n                <p class=\"zelf-action-row__text\">{{ t(\"common.download_zelfproof\") }}</p>\n\n                <button (click)=\"downloadQRCode()\" mat-icon-button class=\"zelf-icon-button zelf-icon-button--border-soft zelf-icon-button--40\">\n                    <svg width=\"14\" height=\"18\" viewBox=\"0 0 14 18\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                        <path\n                            d=\"M11.59 6.5H10V1.5C10 0.95 9.55 0.5 9 0.5H5C4.45 0.5 4 0.95 4 1.5V6.5H2.41C1.52 6.5 1.07 7.58 1.7 8.21L6.29 12.8C6.68 13.19 7.31 13.19 7.7 12.8L12.29 8.21C12.92 7.58 12.48 6.5 11.59 6.5ZM0 16.5C0 17.05 0.45 17.5 1 17.5H13C13.55 17.5 14 17.05 14 16.5C14 15.95 13.55 15.5 13 15.5H1C0.45 15.5 0 15.95 0 16.5Z\"\n                        />\n                    </svg>\n                </button>\n            </div>\n\n            <mnemonic (redirect)=\"onMnemonicUnlock()\"></mnemonic>\n        </div>\n\n        <div class=\"zelf-card__actions welcome-complete__actions\">\n            <button (click)=\"complete()\" [routerLink]=\"['../../home']\" class=\"zelf-button zelf-button--black zelf-button--wide\" mat-flat-button>\n                {{ t(\"common.continue\") }}\n            </button>\n        </div>\n    </ng-container>\n\n    <zelf-loader [diameter]=\"30\" *ngIf=\"loading\"></zelf-loader>\n</div>\n"],"names":["CommonModule","MatButtonModule","RouterModule","TranslocoModule","ZelfNamePipe","MnemonicComponent","ZelfLoaderComponent","i0","ɵɵelementContainerStart","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵelement","ɵɵlistener","WelcomeCompleteComponent_div_0_ng_container_1_Template_button_click_12_listener","ɵɵrestoreView","_r1","ctx_r1","ɵɵnextContext","ɵɵresetView","downloadQRCode","WelcomeCompleteComponent_div_0_ng_container_1_Template_mnemonic_redirect_15_listener","onMnemonicUnlock","WelcomeCompleteComponent_div_0_ng_container_1_Template_button_click_17_listener","complete","ɵɵadvance","ɵɵtextInterpolate","t_r3","ɵɵpipeBind1","wallet","publicData","zelfName","ɵɵproperty","image","ɵɵsanitizeUrl","ɵɵpureFunction0","_c0","ɵɵtextInterpolate1","ɵɵtemplate","WelcomeCompleteComponent_div_0_ng_container_1_Template","WelcomeCompleteComponent_div_0_zelf_loader_2_Template","loading","WelcomeCompleteComponent","_chromeService","_router","_vaultService","_walletService","_zelfNameService","flow","isExtension","constructor","removeItem","ngOnInit","_this","_asyncToGenerator","removeDuplicateWalletsInStorage","getCurrentWallet","getFlow","ngOnDestroy","mnemonic","password","link","document","createElement","href","download","click","_this2","setFlow","setZelfName","navigate","queryParams","return","ɵɵdirectiveInject","i1","ChromeService","i2","Router","i3","VaultService","i4","WalletService","i5","ZelfNameService","selectors","decls","vars","consts","template","WelcomeCompleteComponent_Template","rf","ctx","WelcomeCompleteComponent_div_0_Template","i6","TranslocoDirective","i7","NgIf","RouterLink","i8","MatButton","MatIconButton","styles"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}