{"version":3,"file":"src_app_security-biometrics_security-biometrics_component_ts.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAuE;AAC7B;AAEK;AAEqC;AAEzB;AACY;AAIyB;AAGvD;AAEyC;AACN;AAEY;;;;;;;;;;;;;;;;;;;;IClBhFY,wDAAA,qBAA4D;;;IAA/CA,yDAAA,iBAAgB;;;;;;IAGzBA,sEAAA,GAAsC;IAItBA,6DAHZ,aAAuB,aACwC,aACP,gBAM3C;;IACGA,6DAAA,aAAwE;IACpEA,wDAAA,eAEE;IAGdA,2DAFQ,EAAM,EACD,EACP;;IAENA,wDAAA,cAAqF;IAErFA,6DAAA,aAA6B;IAAAA,qDAAA,GAAmF;IAAAA,2DAAA,EAAK;IAErHA,wDAAA,aAGK;IACTA,2DAAA,EAAM;IAGFA,6DADJ,gBAAiF,iBACnB;IACtDA,wDAAA,iBAKE;;IAEFA,6DAAA,eAAyB;IACrBA,wDAAA,oBAAqD;IACzDA,2DAAA,EAAM;IAENA,qDAAA,IACJ;IAAAA,2DAAA,EAAQ;;IAERA,6DAAA,kBAA6G;IAArGA,yDAAA,mBAAAQ,0HAAA;MAAAR,4DAAA,CAAAU,GAAA;MAAA,MAAAC,MAAA,GAAAX,4DAAA;MAAA,OAAAA,0DAAA,CAASW,MAAA,CAAAG,eAAA,EAAiB;IAAA,EAAC;IAC/Bd,qDAAA,IACJ;IAERA,2DAFQ,EAAS,EACN,EACL;;;;;;IAzCUA,wDAAA,GAA8B;IAC9BA,yDADA,eAAAA,8DAAA,IAAAiB,GAAA,EAA8B,gBAAAjB,8DAAA,IAAAmB,GAAA,EAAAR,MAAA,CAAAS,WAAA,EACS;IAYlBpB,wDAAA,GAAmF;IAAnFA,gEAAA,CAAAsB,IAAA,CAAAX,MAAA,CAAAY,KAAA,uEAAmF;IAI5GvB,wDAAA,EAAiG;IAAjGA,yDAAA,cAAAsB,IAAA,CAAAX,MAAA,CAAAY,KAAA,8EAAAvB,6DAAA,CAAiG;IAInGA,wDAAA,EAAkB;IAAlBA,yDAAA,cAAAW,MAAA,CAAAc,IAAA,CAAkB;IAahBzB,wDAAA,GACJ;IADIA,iEAAA,MAAAsB,IAAA,6CACJ;IAGItB,wDAAA,GACJ;IADIA,iEAAA,MAAAsB,IAAA,sBACJ;;;;;;IAKZtB,sEAAA,GAAqC;IACjCA,6DAAA,6BAIC;IADGA,yDAFA,yBAAA2B,2IAAAC,MAAA;MAAA5B,4DAAA,CAAA6B,GAAA;MAAA,MAAAlB,MAAA,GAAAX,4DAAA;MAAA,OAAAA,0DAAA,CAAeW,MAAA,CAAAmB,sBAAA,CAAAF,MAAA,CAA8B;IAAA,EAAC,mBAAAG,qIAAAH,MAAA;MAAA5B,4DAAA,CAAA6B,GAAA;MAAA,MAAAlB,MAAA,GAAAX,4DAAA;MAAA,OAAAA,0DAAA,CACrCW,MAAA,CAAAqB,kBAAA,CAAAJ,MAAA,CAA0B;IAAA,EAAC,2BAAAK,6IAAAL,MAAA;MAAA5B,4DAAA,CAAA6B,GAAA;MAAA,MAAAlB,MAAA,GAAAX,4DAAA;MAAA,OAAAA,0DAAA,CACnBW,MAAA,CAAAuB,mBAAA,CAAAN,MAAA,CAA2B;IAAA,EAAC;IAChD5B,2DAAA,EAAqB;;;;;;IAzD9BA,sEAAA,GAA+B;IAoD3BA,yDAnDA,IAAAoC,gGAAA,4BAAsC,IAAAC,gGAAA,0BAmDD;;;;;IAnDtBrC,wDAAA,EAAqB;IAArBA,yDAAA,UAAAW,MAAA,CAAA2B,cAAA,CAAqB;IAmDrBtC,wDAAA,EAAoB;IAApBA,yDAAA,SAAAW,MAAA,CAAA2B,cAAA,CAAoB;;;;;IAvD3CtC,sEAAA,GAAiC;IAG7BA,yDAFA,IAAAuC,gFAAA,yBAA8C,IAAAC,iFAAA,0BAEf;;;;;IAFAxC,wDAAA,EAAa;IAAbA,yDAAA,SAAAW,MAAA,CAAA8B,OAAA,CAAa;IAE7BzC,wDAAA,EAAc;IAAdA,yDAAA,UAAAW,MAAA,CAAA8B,OAAA,CAAc;;;;;IAJrCzC,sEAAA,GAAkC;IAC9BA,yDAAA,IAAA0C,kEAAA,0BAAiC;;;;;;;IAkErC1C,sEAAA,GAAiC;IAC7BA,6DAAA,wBAA2F;IAA5EA,yDAAA,oBAAA2C,oFAAA;MAAA3C,4DAAA,CAAA4C,GAAA;MAAA,MAAAjC,MAAA,GAAAX,4DAAA;MAAA,OAAAA,0DAAA,CAAUW,MAAA,CAAAkC,MAAA,EAAQ;IAAA,EAAC;IAAyD7C,2DAAA,EAAgB;;;;;IAAxEA,wDAAA,EAAyB;IAACA,yDAA1B,eAAAW,MAAA,CAAAmC,UAAA,CAAyB,iBAAAnC,MAAA,CAAAoC,YAAA,CAA8B;;;;;;IAI1F/C,6DAAA,cAA+F;IAC3FA,wDAAA,eAGE;IACNA,2DAAA,EAAM;;;ADxCJ,MAAOgD,2BAA2B;EAiBxBC,eAAA;EACAC,YAAA;EACAC,cAAA;EACAC,aAAA;EACAC,YAAA;EACAC,mBAAA;EACAC,OAAA;EACAC,iBAAA;EACAC,aAAA;EACAC,cAAA;EACAC,gBAAA;EA1BJC,aAAa,GAAkB,IAAIvE,0CAAO,EAAQ;EAClDwE,YAAY,GAAY,IAAI;EAEpCd,YAAY,GAAW,EAAE;EACzBD,UAAU,GAAW,EAAE;EACvBgB,IAAI,GAAa,EAAE;EACnBrC,IAAI;EACJF,KAAK,GAAY,KAAK;EACtBkB,OAAO,GAAY,IAAI;EACvBsB,WAAW,GAAW,EAAE;EACxB3C,WAAW,GAAW,EAAE;EACxBkB,cAAc,GAAY,IAAI;EAC9B0B,cAAc;EACdC,SAAS,GAAW,EAAE;EAEtBC,YACYjB,eAA+B,EAC/BC,YAA4B,EAC5BC,cAA6B,EAC7BC,aAA2B,EAC3BC,YAAyB,EACzBC,mBAAuC,EACvCC,OAAe,EACfC,iBAAmC,EACnCC,aAA2B,EAC3BC,cAA6B,EAC7BC,gBAAiC;IAAA,IAAAQ,KAAA;IAVjC,KAAAlB,eAAe,GAAfA,eAAe;IACf,KAAAC,YAAY,GAAZA,YAAY;IACZ,KAAAC,cAAc,GAAdA,cAAc;IACd,KAAAC,aAAa,GAAbA,aAAa;IACb,KAAAC,YAAY,GAAZA,YAAY;IACZ,KAAAC,mBAAmB,GAAnBA,mBAAmB;IACnB,KAAAC,OAAO,GAAPA,OAAO;IACP,KAAAC,iBAAiB,GAAjBA,iBAAiB;IACjB,KAAAC,aAAa,GAAbA,aAAa;IACb,KAAAC,cAAc,GAAdA,cAAc;IACd,KAAAC,gBAAgB,GAAhBA,gBAAgB;IAExB,IAAI,CAAClC,IAAI,GAAG,IAAI,CAAC4B,YAAY,CAACe,KAAK,CAAC;MAChCC,sBAAsB,EAAE,CAAC,KAAK;KACjC,CAAC;IAEF,IAAI,CAACpB,eAAe,CAACqB,QAAQ,CAACC,WAAW,EAAEC,MAAM,KAAK,IAAI,CAACpD,WAAW,GAAG,IAAI,CAAC6B,eAAe,CAACqB,QAAQ,CAACC,WAAW,CAACC,MAAM,CAAC;IAE1H,IAAI,CAACvB,eAAe,CAACsB,WAAW,CAACE,IAAI,CAACnF,gDAAS,CAAC,IAAI,CAACsE,aAAa,CAAC,CAAC,CAACc,SAAS;MAAA,IAAAC,IAAA,GAAAC,sMAAA,CAAC,WAAOC,MAAM,EAAI;QAC5FA,MAAM,EAAEL,MAAM,KAAKL,KAAI,CAAC/C,WAAW,GAAGyD,MAAM,CAACL,MAAM,CAAC;MACxD,CAAC;MAAA,iBAAAM,EAAA;QAAA,OAAAH,IAAA,CAAAI,KAAA,OAAAC,SAAA;MAAA;IAAA,IAAC;EACN;EAEMC,QAAQA,CAAA;IAAA,IAAAC,MAAA;IAAA,OAAAN,sMAAA;MACVM,MAAI,CAACpB,IAAI,GAAG,OAAOoB,MAAI,CAACvB,gBAAgB,CAACwB,OAAO,EAAE,KAAK,QAAQ;MAC/DD,MAAI,CAACnB,WAAW,SAASmB,MAAI,CAACvB,gBAAgB,CAACyB,cAAc,EAAE;MAC/DF,MAAI,CAAC5C,cAAc,GAAG,OAAO4C,MAAI,CAAC/B,cAAc,CAACkC,OAAO,CAAC,uBAAuB,CAAC,KAAK,KAAK;MAC3FH,MAAI,CAACjB,SAAS,SAASiB,MAAI,CAACvB,gBAAgB,CAAC2B,YAAY,EAAE;MAE3D,MAAMtB,cAAc,SAASkB,MAAI,CAACvB,gBAAgB,CAAC4B,iBAAiB,EAAE;MAEtE,IAAIvB,cAAc,EAAEkB,MAAI,CAAClB,cAAc,GAAG,IAAIpE,mDAAW,CAACoE,cAAc,CAAC,CAAC,KACrEkB,MAAI,CAAClB,cAAc,GAAGkB,MAAI,CAAClB,cAAc;MAE9CkB,MAAI,CAAC3D,KAAK,GAAG2D,MAAI,CAACpB,IAAI,KAAK,QAAQ,IAAIoB,MAAI,CAACpB,IAAI,KAAK,QAAQ,IAAKoB,MAAI,CAACpB,IAAI,KAAK,SAAS,IAAIoB,MAAI,CAAClB,cAAc,EAAEwB,SAAU;MAE5HN,MAAI,CAACzC,OAAO,GAAG,KAAK;IAAC;EACzB;EAEAgD,WAAWA,CAAA;IACP,IAAI,CAAC7B,aAAa,CAAC8B,IAAI,EAAE;IACzB,IAAI,CAAC9B,aAAa,CAAC+B,QAAQ,EAAE;EACjC;EAEMC,aAAaA,CAACC,OAAY;IAAA,IAAAC,MAAA;IAAA,OAAAlB,sMAAA;MAC5B,MAAMmB,aAAa,GAAG,OAAOD,MAAI,CAACnC,gBAAgB,CAACqC,gBAAgB,EAAE,KAAK,EAAE;MAE5EF,MAAI,CAACnC,gBAAgB,CAChBsC,aAAa,CAAC;QACX,GAAGJ,OAAO;QACVK,IAAI,EAAE,QAAQ;QACdC,UAAU,EAAEJ;OACf,CAAC,CACDK,IAAI;QAAA,IAAAC,KAAA,GAAAzB,sMAAA,CAAC,WAAO0B,QAAQ,EAAI;UACrB,MAAMR,MAAI,CAAC3C,cAAc,CAACoD,UAAU,CAAC,MAAM,CAAC;UAC5C,MAAMT,MAAI,CAAC3C,cAAc,CAACqD,OAAO,CAAC,QAAQ,EAAE,IAAI5G,mDAAW,CAAC0G,QAAQ,CAACG,IAAI,CAAC,CAAC;UAE3EX,MAAI,CAACY,SAAS,EAAE;QACpB,CAAC;QAAA,iBAAAC,GAAA;UAAA,OAAAN,KAAA,CAAAtB,KAAA,OAAAC,SAAA;QAAA;MAAA,IAAC,CACD4B,KAAK,CAACd,MAAI,CAAC9D,kBAAkB,CAAC;IAAC;EACxC;EAEc6E,cAAcA,CAAChB,OAAY;IAAA,IAAAiB,MAAA;IAAA,OAAAlC,sMAAA;MACrC,MAAMX,SAAS,SAAS6C,MAAI,CAACnD,gBAAgB,CAAC2B,YAAY,EAAE;MAC5D,MAAMyB,eAAe,GAAGD,MAAI,CAACpD,cAAc,CAACsD,kBAAkB,EAAE;MAEhEF,MAAI,CAACnD,gBAAgB,CAChBsD,eAAe,CAAC;QACb,GAAGpB,OAAO;QACV5B,SAAS;QACTiD,UAAU,EAAEH,eAAe,CAACI;OAC/B,CAAC,CACDf,IAAI;QAAA,IAAAgB,KAAA,GAAAxC,sMAAA,CAAC,WAAO0B,QAAQ,EAAI;UACrB,MAAMQ,MAAI,CAAC3D,cAAc,CAACoD,UAAU,CAAC,MAAM,CAAC;UAC5C,MAAMO,MAAI,CAAC3D,cAAc,CAACqD,OAAO,CAAC,QAAQ,EAAE,IAAI5G,mDAAW,CAAC0G,QAAQ,CAACG,IAAI,CAAC,CAAC;UAE3EK,MAAI,CAACJ,SAAS,EAAE;QACpB,CAAC;QAAA,iBAAAW,GAAA;UAAA,OAAAD,KAAA,CAAArC,KAAA,OAAAC,SAAA;QAAA;MAAA,IAAC,CACD4B,KAAK,CAACE,MAAI,CAAC9E,kBAAkB,CAAC;IAAC;EACxC;EAEcsF,aAAaA,CAACzB,OAAY;IAAA,IAAA0B,MAAA;IAAA,OAAA3C,sMAAA;MACpC2C,MAAI,CAAC5D,gBAAgB,CAChBsC,aAAa,CAAC;QACX,GAAGJ,OAAO;QACV2B,QAAQ,QAAQD,MAAI,CAACjE,mBAAmB,CAACmE,cAAc,CAACF,MAAI,CAAC9D,aAAa,CAAC+D,QAAQ,CAAC;QACpFtB,IAAI,EAAE;OACT,CAAC,CACDE,IAAI;QAAA,IAAAsB,KAAA,GAAA9C,sMAAA,CAAC,WAAO0B,QAAQ,EAAI;UACrBiB,MAAI,CAAC9D,aAAa,CAAC+D,QAAQ,GAAG,EAAE;UAEhC,MAAMD,MAAI,CAACpE,cAAc,CAACoD,UAAU,CAAC,MAAM,CAAC;UAC5C,MAAMgB,MAAI,CAACpE,cAAc,CAACqD,OAAO,CAAC,QAAQ,EAAE,IAAI5G,mDAAW,CAAC0G,QAAQ,CAACG,IAAI,CAAC,CAAC;UAE3Ec,MAAI,CAACb,SAAS,EAAE;QACpB,CAAC;QAAA,iBAAAiB,GAAA;UAAA,OAAAD,KAAA,CAAA3C,KAAA,OAAAC,SAAA;QAAA;MAAA,IAAC,CACD4B,KAAK,CAACW,MAAI,CAACvF,kBAAkB,CAAC;IAAC;EACxC;EAEc4F,cAAcA,CAAC/B,OAAY;IAAA,IAAAgC,MAAA;IAAA,OAAAjD,sMAAA;MACrCiD,MAAI,CAAClE,gBAAgB,CAChBmE,qBAAqB,CAAC;QACnB,GAAGjC,OAAO;QACV5B,SAAS,EAAE4D,MAAI,CAAC5D,SAAS;QACzBF,WAAW,EAAE8D,MAAI,CAAC9D;OACrB,CAAC,CACDqC,IAAI;QAAA,IAAA2B,KAAA,GAAAnD,sMAAA,CAAC,WAAO0B,QAAQ,EAAI;UACrB,MAAMuB,MAAI,CAAC1E,cAAc,CAACoD,UAAU,CAAC,aAAa,CAAC;UACnD,MAAMsB,MAAI,CAAC1E,cAAc,CAACqD,OAAO,CAAC,QAAQ,EAAE,IAAI5G,mDAAW,CAAC0G,QAAQ,CAACG,IAAI,CAAC,CAAC;UAE3EoB,MAAI,CAAC3E,YAAY,CAAC8E,IAAI,CAACrI,0GAAyB,EAAE;YAC9CsI,aAAa,EAAE,eAAe;YAC9BC,UAAU,EAAE,mBAAmB;YAC/BzB,IAAI,EAAE;cAAE0B,QAAQ,EAAEN,MAAI,CAAC9D;YAAW;WACrC,CAAC;QACN,CAAC;QAAA,iBAAAqE,GAAA;UAAA,OAAAL,KAAA,CAAAhD,KAAA,OAAAC,SAAA;QAAA;MAAA,IAAC,CACD4B,KAAK,CAACiB,MAAI,CAAC7F,kBAAkB,CAAC;IAAC;EACxC;EAEQ0E,SAASA,CAAA;IACb,IAAI,IAAI,CAACtF,WAAW,EAAE;MAClB,IAAI,CAACmC,OAAO,CAAC8E,QAAQ,CAAC,CAAC,IAAI,CAACjH,WAAW,CAAC,EAAE;QAAEkH,UAAU,EAAE,IAAI;QAAE/D,WAAW,EAAE;UAAEC,MAAM,EAAE,IAAI,CAACpD;QAAW;MAAE,CAAE,CAAC;MAE1G;IACJ;IAEA,IAAI,CAACmC,OAAO,CAAC8E,QAAQ,CAAC,CAAC,mBAAmB,CAAC,CAAC;EAChD;EAEAE,eAAeA,CAAA;IACX,OAAO,IAAI,CAAC1E,YAAY;EAC5B;EAEA/B,sBAAsBA,CAAC0G,WAAA,GAAuB,KAAK;IAC/C,IAAI,CAAC3E,YAAY,GAAG2E,WAAW;EACnC;EAEA3F,MAAMA,CAAA;IACF,IAAI,IAAI,CAACzB,WAAW,EAAE;MAClB,IAAI,CAACmC,OAAO,CAAC8E,QAAQ,CAAC,CAAC,IAAI,CAACjH,WAAW,CAAC,EAAE;QAAEmD,WAAW,EAAE;UAAEC,MAAM,EAAE,IAAI,CAACpD;QAAW;MAAE,CAAE,CAAC;IAC5F,CAAC,MAAM,IAAI,CAACmC,OAAO,CAAC8E,QAAQ,CAAC,CAAC,oBAAoB,CAAC,CAAC;EACxD;EAEArG,kBAAkB,GAAIyG,SAAc,IAAU;IAC1CC,OAAO,CAACC,KAAK,CAACF,SAAS,CAAC;IAExB,IAAI,CAAC3F,UAAU,GAAG,IAAI,CAACU,iBAAiB,CAACoF,SAAS,CAAC,sBAAsB,CAAC;IAC1E,IAAI,CAAC7F,YAAY,GAAG,IAAI,CAACK,aAAa,CAACyF,qBAAqB,CAACJ,SAAS,EAAEE,KAAK,EAAEG,OAAO,IAAIL,SAAS,EAAEE,KAAK,EAAEA,KAAK,EAAE,yBAAyB,CAAC;EACjJ,CAAC;EAEKzG,mBAAmBA,CAAC6G,cAAsB;IAAA,IAAAC,MAAA;IAAA,OAAApE,sMAAA;MAC5C,MAAMuD,QAAQ,SAASa,MAAI,CAACrF,gBAAgB,CAACsF,WAAW,EAAE;MAC1D,MAAMC,gBAAgB,SAASF,MAAI,CAACrF,gBAAgB,CAACwF,WAAW,EAAE;MAElE,MAAMtD,OAAO,GAAQ;QACjBuD,UAAU,EAAEL,cAAc;QAC1BM,EAAE,EAAE,SAAS;QACbC,QAAQ,QAAQN,MAAI,CAAC1F,mBAAmB,CAACmE,cAAc,CAACuB,MAAI,CAACvF,aAAa,CAAC6F,QAAQ,CAAC;QACpFJ,gBAAgB;QAChBf;OACH;MAED,IAAIa,MAAI,CAAClF,IAAI,KAAK,QAAQ,EAAE;QACxBkF,MAAI,CAACpD,aAAa,CAACC,OAAO,CAAC;MAC/B,CAAC,MAAM,IAAImD,MAAI,CAAClF,IAAI,KAAK,QAAQ,EAAE;QAC/BkF,MAAI,CAAC1B,aAAa,CAACzB,OAAO,CAAC;MAC/B,CAAC,MAAM,IAAImD,MAAI,CAAClF,IAAI,KAAK,SAAS,EAAE;QAChCkF,MAAI,CAACpB,cAAc,CAAC/B,OAAO,CAAC;MAChC,CAAC,MAAM;QACHmD,MAAI,CAACnC,cAAc,CAAChB,OAAO,CAAC;MAChC;IAAC;EACL;EAEM/E,eAAeA,CAAA;IAAA,IAAAyI,MAAA;IAAA,OAAA3E,sMAAA;MACjB2E,MAAI,CAACpG,cAAc,CAACqD,OAAO,CAAC,uBAAuB,EAAE+C,MAAI,CAAC9H,IAAI,CAAC+H,QAAQ,CAACnF,sBAAsB,CAACoF,KAAK,CAAC;MAErGF,MAAI,CAACjH,cAAc,GAAG,IAAI;IAAC;EAC/B;;qCAlMSU,2BAA2B,EAAAhD,gEAAA,CAAA2J,4DAAA,GAAA3J,gEAAA,CAAA6J,2EAAA,GAAA7J,gEAAA,CAAA+J,6DAAA,GAAA/J,gEAAA,CAAAiK,oEAAA,GAAAjK,gEAAA,CAAAmK,wDAAA,GAAAnK,gEAAA,CAAAqK,wEAAA,GAAArK,gEAAA,CAAA2J,oDAAA,GAAA3J,gEAAA,CAAAwK,iEAAA,GAAAxK,gEAAA,CAAA0K,2DAAA,GAAA1K,gEAAA,CAAA4K,8DAAA,GAAA5K,gEAAA,CAAA8K,2EAAA;EAAA;;UAA3B9H,2BAA2B;IAAAgI,SAAA;IAAAC,KAAA;IAAAC,IAAA;IAAAC,MAAA;IAAAC,QAAA,WAAAC,qCAAAC,EAAA,EAAAC,GAAA;MAAA,IAAAD,EAAA;QCkCxCtL,yDAvEA,IAAAwL,mDAAA,0BAAkC,IAAAC,mDAAA,0BAmED,IAAAC,kDAAA,gCAAA1L,qEAAA,CAIb;;;QAvELA,yDAAA,UAAAuL,GAAA,CAAAzI,UAAA,CAAiB;QAmEjB9C,wDAAA,EAAgB;QAAhBA,yDAAA,SAAAuL,GAAA,CAAAzI,UAAA,CAAgB;;;mBD3CvB/C,gGAA0B,EAC1BR,0DAAY,EAAAqM,kDAAA,EACZnM,sEAAe,EAAAqM,gEAAA,EAAAA,wDAAA,EACftM,gEAAmB,EAAA2K,6DAAA,EAAAA,yEAAA,EAAAA,4DAAA,EAAAA,iEAAA,EAAAA,+DAAA,EAAAA,4DAAA,EACnBzK,0DAAY,EAAAiK,wDAAA,EACZvK,gEAAe,EAAAoL,mEAAA,EACf3K,4FAAqB,EACrBC,sFAAmB;IAAA2M,MAAA;EAAA;;;;;;;;;;;;;;;;;;;AEzBrB,MAAOvC,YAAY;EAGD1G,iBAAA;EAFpBkJ,oBAAoB,GAAG,EAAE;EAEzBxI,YAAoBV,iBAAmC;IAAnC,KAAAA,iBAAiB,GAAjBA,iBAAiB;IACjC,IAAI,CAACkJ,oBAAoB,GAAG,IAAI,CAAClJ,iBAAiB,CAACoF,SAAS,CAAC,gBAAgB,CAAC;EAClF;EAEAC,qBAAqBA,CAAC8D,GAAW,EAAEC,gBAAA,GAA2B,EAAE;IAC5D,MAAMC,YAAY,GAAG,UAAUF,GAAG,EAAE;IACpC,MAAMG,WAAW,GAAG,IAAI,CAACtJ,iBAAiB,CAACoF,SAAS,CAACiE,YAAY,CAAC;IAElE,OAAOC,WAAW,KAAKD,YAAY,GAC7BC,WAAW,GACXF,gBAAgB,GAChB,IAAI,CAACpJ,iBAAiB,CAACoF,SAAS,CAACgE,gBAAgB,CAAC,GAClD,IAAI,CAACF,oBAAoB;EACnC;;qCAhBSxC,YAAY,EAAAlK,sDAAA,CAAA2J,gEAAA;EAAA;;WAAZO,YAAY;IAAA8C,OAAA,EAAZ9C,YAAY,CAAA+C,IAAA;IAAAC,UAAA,EAFT;EAAM;;;;;;;;;;;;;;;;;;;;;;;ACHoE;AAC/B;AAEN;;;;;;;;;ICJrDlN,qEAAA,GAAiC;IAEzBA,4DADJ,aAAgC,gBAC6E;IAAhCA,wDAAA,mBAAAoN,0EAAA;MAAApN,2DAAA,CAAAU,GAAA;MAAA,MAAAC,MAAA,GAAAX,2DAAA;MAAA,OAAAA,yDAAA,CAASW,MAAA,CAAA0M,mBAAA,EAAqB;IAAA,EAAC;;IACpGrN,4DAAA,aAA+F;IAC3FA,uDAAA,cAEE;IAEVA,0DADI,EAAM,EACD;;IAETA,4DAAA,aAAsC;;IAClCA,4DAAA,aAAgI;IAC5HA,uDAAA,cAGE;IACNA,0DAAA,EAAM;;IAENA,4DAAA,YAAyC;IACrCA,oDAAA,GACJ;IAAAA,0DAAA,EAAK;IAELA,4DAAA,aAAsC;IAClCA,oDAAA,IACJ;IAAAA,0DAAA,EAAK;IAELA,4DAAA,aAAoC;IAChCA,oDAAA,IACJ;IACJA,0DADI,EAAI,EACF;IAGFA,4DADJ,eAAyC,kBAC+E;IAA5GA,wDAAA,mBAAAsN,2EAAA;MAAAtN,2DAAA,CAAAU,GAAA;MAAA,MAAAC,MAAA,GAAAX,2DAAA;MAAA,OAAAA,yDAAA,CAASW,MAAA,CAAA0M,mBAAA,EAAqB;IAAA,EAAC;IACnCrN,oDAAA,IACJ;IAAAA,0DAAA,EAAS;IAETA,4DAAA,kBAAyG;IAAjGA,wDAAA,mBAAAuN,2EAAA;MAAAvN,2DAAA,CAAAU,GAAA;MAAA,MAAAC,MAAA,GAAAX,2DAAA;MAAA,OAAAA,yDAAA,CAASW,MAAA,CAAA6M,WAAA,EAAa;IAAA,EAAC;IAC3BxN,oDAAA,IACJ;IAERA,0DAFQ,EAAS,EACP,EACJ;;;;;;IArBMA,uDAAA,GACJ;IADIA,gEAAA,MAAAsB,IAAA,+BACJ;IAGItB,uDAAA,GACJ;IADIA,gEAAA,MAAAW,MAAA,CAAA8F,IAAA,CAAA0B,QAAA,MACJ;IAGInI,uDAAA,GACJ;IADIA,gEAAA,MAAAsB,IAAA,mCACJ;IAKItB,uDAAA,GACJ;IADIA,gEAAA,MAAAsB,IAAA,wBACJ;IAGItB,uDAAA,GACJ;IADIA,gEAAA,MAAAsB,IAAA,6BACJ;;;AD1BN,MAAO3B,yBAAyB;EAEQ8G,IAAA;EAC9BgH,eAAA;EACAlK,OAAA;EAHZW,YAC0CuC,IAAS,EACvCgH,eAA6D,EAC7DlK,OAAe;IAFe,KAAAkD,IAAI,GAAJA,IAAI;IAClC,KAAAgH,eAAe,GAAfA,eAAe;IACf,KAAAlK,OAAO,GAAPA,OAAO;EAChB;EAEH8J,mBAAmBA,CAAA;IACf,IAAI,CAAC9J,OAAO,CAAC8E,QAAQ,CAAC,CAAC,mBAAmB,CAAC,CAAC;IAC5C,IAAI,CAACoF,eAAe,CAACC,OAAO,EAAE;EAClC;EAEMF,WAAWA,CAAA;IAAA,IAAArJ,KAAA;IAAA,OAAAS,sMAAA;MACb,MAAMT,KAAI,CAACZ,OAAO,CAAC8E,QAAQ,CAAC,CACxB,gBAAgB,EAChB;QAAEsF,WAAW,EAAE;UAAEC,WAAW,EAAE,gDAAgDzJ,KAAI,CAACsC,IAAI,CAAC0B,QAAQ;QAAE;MAAE,CAAE,CACzG,CAAC;MAEFhE,KAAI,CAACkJ,mBAAmB,EAAE;IAAC;EAC/B;;qCAnBS1N,yBAAyB,EAAAK,+DAAA,CAEtBmN,iFAAqB,GAAAnN,+DAAA,CAAA2J,6EAAA,GAAA3J,+DAAA,CAAA6J,mDAAA;EAAA;;UAFxBlK,yBAAyB;IAAAqL,SAAA;IAAAC,KAAA;IAAAC,IAAA;IAAAC,MAAA;IAAAC,QAAA,WAAA0C,mCAAAxC,EAAA,EAAAC,GAAA;MAAA,IAAAD,EAAA;QCZtCtL,wDAAA,IAAA+N,iDAAA,2BAAiC;;;mBDOnB3O,+DAAe,EAAA2K,kEAAA,EAAEtK,qEAAe,EAAAwK,+DAAA,EAAAA,uDAAA;IAAAwC,MAAA;EAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AEPyB;AACvB;AACC;AACwC;AACnC;AAEP;AACyF;AAChF;AACG;AACA;AACW;AACQ;AAIF;AAEkD;;;;;;;;;;;;;;ICT9GzM,4DADJ,cAAuE,cAC/B;IAAAA,oDAAA,GAAqB;IAAAA,0DAAA,EAAM;IAC/DA,4DAAA,cAAuC;IAAAA,oDAAA,GAAwB;IACnEA,0DADmE,EAAM,EACnE;;;;IAFkCA,uDAAA,GAAqB;IAArBA,+DAAA,CAAAyO,MAAA,CAAAC,SAAA,CAAAC,KAAA,CAAqB;IAClB3O,uDAAA,GAAwB;IAAxBA,+DAAA,CAAAyO,MAAA,CAAAC,SAAA,CAAAE,QAAA,CAAwB;;;;;;IAKnE5O,4DAAA,oBAaC;IAXGA,wDADA,0BAAA6O,kFAAAjN,MAAA;MAAA5B,2DAAA,CAAA8O,GAAA;MAAA,MAAAL,MAAA,GAAAzO,2DAAA;MAAA,OAAAA,yDAAA,CAAgByO,MAAA,CAAAM,YAAA,CAAAnN,MAAA,CAAoB;IAAA,EAAC,uBAAAoN,+EAAApN,MAAA;MAAA5B,2DAAA,CAAA8O,GAAA;MAAA,MAAAL,MAAA,GAAAzO,2DAAA;MAAA,OAAAA,yDAAA,CACxByO,MAAA,CAAAQ,WAAA,CAAArN,MAAA,CAAmB;IAAA,EAAC;IAWpC5B,0DAAA,EAAS;;;;IAJNA,wDANA,4BAA2B,0BACF,WAAAyO,MAAA,CAAAS,MAAA,CAAAC,UAAA,CAAAC,KAAA,CAAAC,GAAA,CAAAC,MAAA,CACoB,mBAC3B,YAAAb,MAAA,CAAAc,YAAA,CACM,iBAAAd,MAAA,CAAAS,MAAA,CAAAM,aAAA,CACa,UAAAf,MAAA,CAAAS,MAAA,CAAAC,UAAA,CAAAC,KAAA,CAAAC,GAAA,CAAAI,KAAA,CACM;;;;;IAjBnDzP,4DANJ,aAKC,aACmH;IAC5GA,wDAAA,IAAA0P,+CAAA,iBAAuE;IAI3E1P,0DAAA,EAAM;IAENA,4DAAA,cAA0H;IACtHA,wDAAA,IAAA2P,kDAAA,qBAaC;IASD3P,uDAPA,oBAKU,oBAE6B;IAE/CA,0DADI,EAAM,EACJ;;;;IA/BQA,uDAAA,GAAsC;IAAtCA,wDAAA,SAAAyO,MAAA,CAAAC,SAAA,KAAAD,MAAA,CAAAnI,QAAA,CAAAsJ,SAAA,CAAsC;IAM1B5P,uDAAA,EAAgD;IAACA,yDAAjD,UAAAyO,MAAA,CAAAS,MAAA,CAAAC,UAAA,CAAAC,KAAA,CAAAK,KAAA,OAAgD,WAAAhB,MAAA,CAAAS,MAAA,CAAAC,UAAA,CAAAC,KAAA,CAAAE,MAAA,OAAmD;IAWhHtP,uDAAA,EAA2B;IAA3BA,wDAAA,UAAAyO,MAAA,CAAAnI,QAAA,CAAAwJ,WAAA,CAA2B;IAM5B9P,uDAAA,EAA4G;IAC5GA,yDADA,WAAAyO,MAAA,CAAAnI,QAAA,CAAAwJ,WAAA,GAAArB,MAAA,CAAAS,MAAA,CAAAC,UAAA,CAAAY,MAAA,kBAAAtB,MAAA,CAAAS,MAAA,CAAAC,UAAA,CAAAY,MAAA,CAAAT,MAAA,GAAAb,MAAA,CAAAS,MAAA,CAAAC,UAAA,CAAAC,KAAA,CAAAE,MAAA,OAA4G,UAAAb,MAAA,CAAAnI,QAAA,CAAAwJ,WAAA,GAAArB,MAAA,CAAAS,MAAA,CAAAC,UAAA,CAAAY,MAAA,kBAAAtB,MAAA,CAAAS,MAAA,CAAAC,UAAA,CAAAY,MAAA,CAAAN,KAAA,GAAAhB,MAAA,CAAAS,MAAA,CAAAC,UAAA,CAAAC,KAAA,CAAAK,KAAA,OACH;;;;;IASrHzP,4DAAA,cAAqH;IACjHA,uDAAA,sBAA4C;IAChDA,0DAAA,EAAM;;;IADWA,uDAAA,EAAgB;IAAhBA,wDAAA,iBAAgB;;;;;IAGjCA,4DAAA,cAAoI;IAChIA,uDAAA,cAA8G;IAE9GA,4DAAA,aAAiB;IAAAA,oDAAA,GAAgD;;IAAAA,0DAAA,EAAK;IAEtEA,4DAAA,YAAgB;IACZA,oDAAA,GACJ;;IACJA,0DADI,EAAI,EACF;;;IALeA,uDAAA,GAAgD;IAAhDA,+DAAA,CAAAA,yDAAA,uCAAgD;IAG7DA,uDAAA,GACJ;IADIA,gEAAA,MAAAA,yDAAA,wDACJ;;;ADhBF,MAAOD,0BAA0B;EAiCvBkQ,kBAAA;EACA3M,mBAAA;EACA4M,mBAAA;EACAC,SAAA;EACA3M,iBAAA;EACAE,cAAA;EArCuC0M,mBAAmB;EACvBC,eAAe;EACfC,SAAS;EAE9C9H,WAAW,GAA0B,IAAI2F,uDAAY,EAAW;EAChExF,KAAK,GAAsB,IAAIwF,uDAAY,EAAO;EAClDoC,aAAa,GAAyB,IAAIpC,uDAAY,EAAU;EAElEqC,eAAe,GAAeA,CAAA,KAAK,CAAE,CAAC;EAEtCC,qBAAqB;EACrBC,UAAU,GAAc,EAAE;EAC1BC,YAAY,GAAkB,IAAItR,yCAAO,EAAQ;EACjDuE,aAAa,GAAkB,IAAIvE,yCAAO,EAAQ;EAE1D;EACAuR,UAAU;EACVC,SAAS,GAAW,OAAO;EAC3BC,aAAa;EAEbC,WAAW,GAAG,IAAI;EAClB7B,MAAM;EACN8B,UAAU;EACVC,SAAS;EACTvC,SAAS;EACTwC,IAAI;EACJC,QAAQ;EACRC,OAAO;EACPC,OAAO;EACP/K,QAAQ;EAERpC,YACY+L,kBAAqC,EACrC3M,mBAAuC,EACvC4M,mBAAuC,EACvCC,SAAoB,EACpB3M,iBAAmC,EACnCE,cAA6B;IAAA,IAAAS,KAAA;IAL7B,KAAA8L,kBAAkB,GAAlBA,kBAAkB;IAClB,KAAA3M,mBAAmB,GAAnBA,mBAAmB;IACnB,KAAA4M,mBAAmB,GAAnBA,mBAAmB;IACnB,KAAAC,SAAS,GAATA,SAAS;IACT,KAAA3M,iBAAiB,GAAjBA,iBAAiB;IACjB,KAAAE,cAAc,GAAdA,cAAc;IAEtB,IAAI,CAACsN,UAAU,GAAG,IAAI,CAACtN,cAAc,CAAC4N,aAAa,EAAE;IAErD,IAAI,CAACb,qBAAqB,GAAGxC,gDAAQ,cAAArJ,sMAAA,CAAC,aAAW;MAC7CT,KAAI,CAACqE,WAAW,CAAC+I,IAAI,CAAC,KAAK,CAAC;MAE5B,MAAMpN,KAAI,CAACqN,sBAAsB,EAAE;MAEnCrN,KAAI,CAACsN,sBAAsB,EAAE;IACjC,CAAC,GAAE,GAAG,CAAC;EACX;EAEMxM,QAAQA,CAAA;IAAA,IAAAC,MAAA;IAAA,OAAAN,sMAAA;MACV,MAAMM,MAAI,CAACwM,mBAAmB,EAAE;MAEhCxM,MAAI,CAACsL,eAAe,GAAGtL,MAAI,CAACiL,SAAS,CAACwB,MAAM,CAAC,QAAQ,EAAE,QAAQ,EAAEzM,MAAI,CAACuL,qBAAqB,CAAC;MAE5FvL,MAAI,CAACxB,cAAc,CAACkO,QAAQ,CAACnN,IAAI,CAACnF,+CAAS,CAAC4F,MAAI,CAACtB,aAAa,CAAC,CAAC,CAACc,SAAS;QAAA,IAAA2B,KAAA,GAAAzB,sMAAA,CAAC,WAAOiN,QAAQ,EAAI;UAC1F3M,MAAI,CAACsD,WAAW,CAAC+I,IAAI,CAAC,KAAK,CAAC;UAE5BrM,MAAI,CAACgK,MAAM,CAACU,SAAS,GAAG,CAACiC,QAAQ;UAEjC,IAAI,CAACA,QAAQ,EAAE;UAEf,MAAM3M,MAAI,CAACsM,sBAAsB,EAAE;UAEnCtM,MAAI,CAACuM,sBAAsB,EAAE;QACjC,CAAC;QAAA,iBAAA3M,EAAA;UAAA,OAAAuB,KAAA,CAAAtB,KAAA,OAAAC,SAAA;QAAA;MAAA,IAAC;IAAC;EACP;EAEMS,WAAWA,CAAA;IAAA,IAAAK,MAAA;IAAA,OAAAlB,sMAAA;MACb,MAAMkB,MAAI,CAACoK,mBAAmB,CAAC4B,cAAc,EAAE;MAE/ChM,MAAI,CAAC0C,WAAW,CAAC+I,IAAI,CAAC,IAAI,CAAC;MAE3BzL,MAAI,CAAC0K,eAAe,EAAE;MACtB1K,MAAI,CAACiM,cAAc,EAAE;MAErBjM,MAAI,CAAC2K,qBAAqB,CAACuB,MAAM,EAAE;MAEnClM,MAAI,CAAClC,aAAa,CAAC8B,IAAI,EAAE;MACzBI,MAAI,CAAClC,aAAa,CAAC+B,QAAQ,EAAE;IAAC;EAClC;EAEA,IAAW4J,YAAYA,CAAA;IACnB,OAAO,IAAI,CAACoB,YAAY,CAACsB,YAAY,EAAE;EAC3C;EAEQC,2BAA2BA,CAAA;IAC/B,MAAMC,WAAW,GAAGC,MAAM,CAACC,WAAW,GAAGD,MAAM,CAACE,UAAU;IAE1D,MAAMC,kBAAkB,GAAGC,IAAI,CAACC,IAAI,CAACL,MAAM,CAACC,WAAW,GAAG,GAAG,CAAC;IAC9D,MAAMK,iBAAiB,GAAGF,IAAI,CAACC,IAAI,CAACL,MAAM,CAACE,UAAU,GAAG,GAAG,CAAC;IAE5D,MAAMK,iBAAiB,GAAG,EAAE,GAAG,CAAC;IAEhC,IAAIR,WAAW,EAAE;MACb,MAAMS,SAAS,GAAGJ,IAAI,CAACK,GAAG,CAACN,kBAAkB,EAAE,IAAI,CAAC;MACpD,MAAMO,eAAe,GAAGN,IAAI,CAACO,KAAK,CAACH,SAAS,GAAGD,iBAAiB,CAAC;MACjE,MAAMK,QAAQ,GAAGR,IAAI,CAACK,GAAG,CAACH,iBAAiB,EAAE,IAAI,CAAC;MAElD,OAAO;QACHP,WAAW;QACX7C,MAAM,EAAEsD,SAAS;QACjBnD,KAAK,EAAE+C,IAAI,CAACK,GAAG,CAACC,eAAe,EAAEE,QAAQ;OAC5C;IACL,CAAC,MAAM;MACH,MAAMJ,SAAS,GAAGJ,IAAI,CAACK,GAAG,CAACN,kBAAkB,EAAE,IAAI,CAAC;MACpD,MAAMO,eAAe,GAAGN,IAAI,CAACO,KAAK,CAACH,SAAS,GAAGD,iBAAiB,CAAC;MACjE,MAAMK,QAAQ,GAAGR,IAAI,CAACK,GAAG,CAACH,iBAAiB,EAAE,IAAI,CAAC;MAElD,OAAO;QACHP,WAAW;QACX7C,MAAM,EAAEsD,SAAS;QACjBnD,KAAK,EAAE+C,IAAI,CAACK,GAAG,CAACC,eAAe,EAAEE,QAAQ;OAC5C;IACL;EACJ;EAEQC,sBAAsB,GAAGA,CAAA,KAAK;IAClC,MAAMC,QAAQ,GAAG,IAAI,CAAC5C,SAAS,EAAE6C,kBAAkB;IAEnD,IAAI,CAACD,QAAQ,EAAE;IAEfE,aAAa,CAAC,IAAI,CAAC1C,UAAU,CAAC2C,aAAa,CAAC;IAE5C,IAAI,CAAC3C,UAAU,CAAC2C,aAAa,GAAG,IAAI;IAEpCH,QAAQ,CAACI,gBAAgB,CACrB,YAAY,EACZ,MAAK;MACD,IAAI,CAACC,2BAA2B,EAAE;MAClC,IAAI,CAAC/K,WAAW,CAAC+I,IAAI,CAAC,IAAI,CAAC;MAE3B,IAAI,CAACiC,mBAAmB,CAACN,QAAQ,CAAC;MAClC,IAAI,CAACO,sBAAsB,EAAE;IACjC,CAAC,EACD;MAAEC,IAAI,EAAE;IAAI,CAAE,CACjB;IAED,IAAI,CAACF,mBAAmB,CAACN,QAAQ,CAAC;IAClC,IAAI,CAACO,sBAAsB,EAAE;EACjC,CAAC;EAEOE,WAAW,GAAGA,CAAA,KAAK;IACvB,IAAI,IAAI,CAACrN,QAAQ,CAACwJ,WAAW,EAAE;MAC3B,IAAI,CAACY,UAAU,CAACkD,UAAU,GAAGR,aAAa,CAAC,IAAI,CAAC1C,UAAU,CAACkD,UAAU,CAAC;MAEtE;IACJ;IAEA,IAAI,CAACjD,YAAY,CAACjL,IAAI,EAAE;EAC5B,CAAC;EAEO+N,sBAAsBA,CAAA;IAC1B,MAAMI,QAAQ,GAAG,IAAI,CAAC3E,MAAM,CAACC,UAAU,CAACC,KAAK;IAC7C,MAAM0E,gBAAgB,GAAG,IAAI,CAAC1D,mBAAmB,EAAE2D,aAAa;IAEhED,gBAAgB,CAACxE,MAAM,GAAGuE,QAAQ,CAACvE,MAAM;IACzCwE,gBAAgB,CAACrE,KAAK,GAAGoE,QAAQ,CAACpE,KAAK;IAEvC,MAAMlE,GAAG,GAA6BuI,gBAAgB,CAACE,UAAU,CAAC,IAAI,CAAC;IAEvEzI,GAAG,CAAC0I,SAAS,CAAC,CAAC,EAAE,CAAC,EAAEJ,QAAQ,CAACpE,KAAK,IAAI,CAAC,EAAEoE,QAAQ,CAACvE,MAAM,IAAI,CAAC,CAAC;IAE9D/D,GAAG,CAAC2I,SAAS,GAAG,2BAA2B;IAC3C3I,GAAG,CAAC4I,QAAQ,CAAC,CAAC,EAAE,CAAC,EAAEN,QAAQ,CAACpE,KAAK,IAAI,CAAC,EAAEoE,QAAQ,CAACvE,MAAM,IAAI,CAAC,CAAC;IAC7D/D,GAAG,CAAC6I,wBAAwB,GAAG,iBAAiB;IAEhD,MAAM;MAAEC,MAAM;MAAEC;IAAM,CAAE,GAAG,IAAI,CAACpD,IAAI,CAAC9B,KAAK,IAAI;MAAEiF,MAAM,EAAE;QAAEE,CAAC,EAAE,CAAC;QAAEC,CAAC,EAAE;MAAC,CAAE;MAAEF,MAAM,EAAE;QAAEC,CAAC,EAAE,CAAC;QAAEC,CAAC,EAAE;MAAC;IAAE,CAAE;IAEhGjJ,GAAG,CAAC2I,SAAS,GAAG,wBAAwB;IACxC3I,GAAG,CAACkJ,SAAS,EAAE;IACflJ,GAAG,CAACmJ,OAAO,CAACL,MAAM,EAAEE,CAAC,EAAEF,MAAM,EAAEG,CAAC,EAAEF,MAAM,CAACC,CAAC,EAAED,MAAM,CAACE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,GAAGhC,IAAI,CAACmC,EAAE,CAAC;IACxEpJ,GAAG,CAACqJ,IAAI,EAAE;IACVrJ,GAAG,CAACsJ,SAAS,EAAE;IACftJ,GAAG,CAAC6I,wBAAwB,GAAG,aAAa;EAChD;EAEQU,eAAeA,CAACvJ,GAAQ,EAAEwJ,IAAU;IACxC,MAAM;MAAEV,MAAM;MAAEC;IAAM,CAAE,GAAG,IAAI,CAACpD,IAAI,CAAC9B,KAAK,IAAI;MAAEiF,MAAM,EAAE;QAAEE,CAAC,EAAE,CAAC;QAAEC,CAAC,EAAE;MAAC,CAAE;MAAEF,MAAM,EAAE;QAAEC,CAAC,EAAE,CAAC;QAAEC,CAAC,EAAE;MAAC;IAAE,CAAE;IAEhGjJ,GAAG,CAACkJ,SAAS,EAAE;IACflJ,GAAG,CAACmJ,OAAO,CAACL,MAAM,CAACE,CAAC,EAAEF,MAAM,CAACG,CAAC,EAAEF,MAAM,CAACC,CAAC,EAAED,MAAM,CAACE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,GAAGhC,IAAI,CAACmC,EAAE,CAAC;IACtEpJ,GAAG,CAACyJ,SAAS,GAAG,CAAC;IACjBzJ,GAAG,CAAC0J,WAAW,GAAGF,IAAI,GAAG,OAAO,GAAG,KAAK;IACxCxJ,GAAG,CAAC2J,MAAM,EAAE;IACZ3J,GAAG,CAACsJ,SAAS,EAAE;IAEf,IAAI,CAACE,IAAI,EAAE;MACP,IAAI,IAAI,CAACrG,SAAS,EAAEyG,MAAM,EAAEC,QAAQ,CAAC,GAAG,CAAC,EAAE;QACvC,MAAMC,MAAM,GAAGhB,MAAM,CAACE,CAAC,GAAG,EAAE;QAC5B,MAAMe,MAAM,GAAGjB,MAAM,CAACG,CAAC,GAAGF,MAAM,CAACE,CAAC,GAAG,EAAE;QAEvCjJ,GAAG,CAACgK,SAAS,CAAC,IAAI,CAACtE,SAAS,CAACuE,EAAE,EAAEH,MAAM,EAAEC,MAAM,EAAE,EAAE,EAAE,EAAE,CAAC;MAC5D;MAEA,IAAI,IAAI,CAAC5G,SAAS,EAAEyG,MAAM,EAAEC,QAAQ,CAAC,GAAG,CAAC,EAAE;QACvC,MAAMC,MAAM,GAAGhB,MAAM,CAACE,CAAC,GAAG,EAAE;QAC5B,MAAMe,MAAM,GAAGjB,MAAM,CAACG,CAAC,GAAGF,MAAM,CAACE,CAAC,GAAG,EAAE;QAEvCjJ,GAAG,CAACgK,SAAS,CAAC,IAAI,CAACtE,SAAS,CAACwE,IAAI,EAAEJ,MAAM,EAAEC,MAAM,EAAE,EAAE,EAAE,EAAE,CAAC;MAC9D;MAEA,IAAI,IAAI,CAAC5G,SAAS,EAAEyG,MAAM,EAAEC,QAAQ,CAAC,GAAG,CAAC,EAAE;QACvC,MAAMC,MAAM,GAAGhB,MAAM,CAACE,CAAC,GAAGD,MAAM,CAACC,CAAC,GAAG,EAAE;QACvC,MAAMe,MAAM,GAAGjB,MAAM,CAACG,CAAC,GAAG,EAAE;QAE5BjJ,GAAG,CAACgK,SAAS,CAAC,IAAI,CAACtE,SAAS,CAACyE,KAAK,EAAEL,MAAM,EAAEC,MAAM,EAAE,EAAE,EAAE,EAAE,CAAC;MAC/D;MAEA,IAAI,IAAI,CAAC5G,SAAS,EAAEyG,MAAM,EAAEC,QAAQ,CAAC,GAAG,CAAC,EAAE;QACvC,MAAMC,MAAM,GAAGhB,MAAM,CAACE,CAAC,GAAGD,MAAM,CAACC,CAAC,GAAG,EAAE;QACvC,MAAMe,MAAM,GAAGjB,MAAM,CAACG,CAAC,GAAG,EAAE;QAE5BjJ,GAAG,CAACgK,SAAS,CAAC,IAAI,CAACtE,SAAS,CAAC0E,IAAI,EAAEN,MAAM,EAAEC,MAAM,EAAE,EAAE,EAAE,EAAE,CAAC;MAC9D;IACJ;IAEA,IAAI,CAACrF,kBAAkB,CAAC2F,YAAY,EAAE;EAC1C;EAEcC,qBAAqBA,CAAA;IAAA,IAAA/O,MAAA;IAAA,OAAAlC,sMAAA;MAC/B,IAAIkC,MAAI,CAACR,QAAQ,CAACsJ,SAAS,EAAE;MAE7B9I,MAAI,CAACgP,QAAQ,CAAC;QAAE/F,MAAM,EAAE;MAAI,CAAE,CAAC;MAE/B,MAAMD,WAAW,GAAGhJ,MAAI,CAACR,QAAQ,CAACwJ,WAAW,EAAEiG,OAAO,CAAC,kBAAkB,EAAE,EAAE,CAAW;MACxF,MAAMhN,cAAc,SAASjC,MAAI,CAACxD,mBAAmB,CAACmE,cAAc,CAACqI,WAAW,CAAC;MAEjFhJ,MAAI,CAACyJ,aAAa,CAACgB,IAAI,CAACxI,cAAc,CAAC;IAAC;EAC5C;EAEQiN,mBAAmB,GAAGA,CAAC1G,MAAc,EAAEG,KAAa,KAAI;IAC5D,MAAMhJ,IAAI,GAAa;MACnB4N,MAAM,EAAE;QACJE,CAAC,EAAE9E,KAAK,GAAG,CAAC;QACZ+E,CAAC,EAAElF,MAAM,GAAG;OACf;MACDgF,MAAM,EAAE;QACJC,CAAC,EAAE,CAAC;QACJC,CAAC,EAAE;OACN;MACDyB,MAAM,EAAE;QACJzB,CAAC,EAAElF,MAAM,GAAG,IAAI;QAChBiF,CAAC,EAAE;;KAEV;IAED9N,IAAI,CAACwP,MAAM,CAAC1B,CAAC,GAAG9N,IAAI,CAACwP,MAAM,CAACzB,CAAC,GAAG,GAAG;IACnC/N,IAAI,CAAC6N,MAAM,CAACE,CAAC,GAAGlF,MAAM,GAAG,IAAI;IAC7B7I,IAAI,CAAC6N,MAAM,CAACC,CAAC,GAAG9N,IAAI,CAAC6N,MAAM,CAACE,CAAC,GAAG,IAAI,CAACzD,WAAW;IAEhD,IAAItK,IAAI,CAAC6N,MAAM,CAACC,CAAC,GAAG,CAAC,IAAI9E,KAAK,EAAE;MAC5BhJ,IAAI,CAAC6N,MAAM,CAACC,CAAC,GAAG9E,KAAK,GAAG,IAAI;MAC5BhJ,IAAI,CAAC6N,MAAM,CAACE,CAAC,GAAG/N,IAAI,CAAC6N,MAAM,CAACC,CAAC,GAAG,IAAI,CAACxD,WAAW;IACpD;IAEA,OAAOtK,IAAI;EACf,CAAC;EAEOyP,QAAQA,CAACzM,KAAa,EAAEoJ,GAAW,EAAExD,GAAW;IACpD,OAAO5F,KAAK,IAAIoJ,GAAG,IAAIpJ,KAAK,IAAI4F,GAAG;EACvC;EAEQ8G,eAAeA,CAACC,IAAS;IAC7B,MAAMC,WAAW,GAAGD,IAAI,CAAC7B,CAAC;IAC1B,MAAM+B,WAAW,GAAGF,IAAI,CAAC5B,CAAC;IAE1B,MAAM;MAAEH,MAAM;MAAE4B;IAAM,CAAE,GAAG,IAAI,CAAC/E,IAAI,CAACqF,IAAI,IAAI;MAAElC,MAAM,EAAE;QAAEE,CAAC,EAAE,CAAC;QAAEC,CAAC,EAAE;MAAC,CAAE;MAAEyB,MAAM,EAAE;QAAE1B,CAAC,EAAE,CAAC;QAAEC,CAAC,EAAE;MAAC;IAAE,CAAE;IAE/F,MAAMgC,QAAQ,GAAG,IAAI,CAACN,QAAQ,CAACG,WAAW,EAAEhC,MAAM,CAACE,CAAC,GAAG0B,MAAM,CAAC1B,CAAC,EAAEF,MAAM,CAACE,CAAC,GAAG0B,MAAM,CAAC1B,CAAC,CAAC;IACrF,MAAMkC,QAAQ,GAAG,IAAI,CAACP,QAAQ,CAACI,WAAW,EAAEjC,MAAM,CAACG,CAAC,EAAEH,MAAM,CAACG,CAAC,GAAGyB,MAAM,CAACzB,CAAC,GAAG,GAAG,CAAC;IAEhF,MAAMkC,cAAc,GAAGF,QAAQ,IAAIC,QAAQ;IAE3C,IAAIC,cAAc,EAAE;IAEpB,IAAIzF,SAAS,GAAG,EAAE;IAElB,IAAI,CAACuF,QAAQ,EAAEvF,SAAS,IAAI,GAAGoF,WAAW,GAAGhC,MAAM,CAACE,CAAC,GAAG0B,MAAM,CAAC1B,CAAC,GAAG,GAAG,GAAG,GAAG,EAAE;IAC9E,IAAI,CAACkC,QAAQ,EAAExF,SAAS,IAAI,GAAGqF,WAAW,GAAGjC,MAAM,CAACG,CAAC,GAAG,GAAG,GAAG,GAAG,EAAE;IAEnE,IAAI,CAAC9F,SAAS,GAAG;MACbyG,MAAM,EAAElE,SAAS;MACjBrC,QAAQ,EAAE,IAAI,CAACpL,iBAAiB,CAACoF,SAAS,CAAC,oCAAoC,CAAC;MAChF+F,KAAK,EAAE,IAAI,CAACnL,iBAAiB,CAACoF,SAAS,CAAC,2BAA2B;KACtE;EACL;EAEQ+N,YAAYA,CAACC,SAAkC;IACnD,MAAMC,OAAO,GAAG,IAAI,CAAC3H,MAAM,CAACC,UAAU,CAACoH,IAAI,IAAI;MAAElC,MAAM,EAAE;QAAEE,CAAC,EAAE,CAAC;QAAEC,CAAC,EAAE;MAAC,CAAE;MAAEyB,MAAM,EAAE;QAAE1B,CAAC,EAAE,CAAC;QAAEC,CAAC,EAAE;MAAC,CAAE;MAAElF,MAAM,EAAE,CAAC;MAAEG,KAAK,EAAE,CAAC;MAAEqH,OAAO,EAAE;IAAC,CAAE;IAClI,MAAMC,aAAa,GAAGH,SAAS,CAACI,WAAW,GAAGJ,SAAS,CAACK,UAAU;IAClE,MAAMC,cAAc,GAAG1E,IAAI,CAAC2E,KAAK,CAACN,OAAO,CAACvH,MAAM,IAAIuH,OAAO,CAACpH,KAAK,GAAGoH,OAAO,CAACC,OAAO,CAAC,CAAC;IACrF,MAAMM,cAAc,GAAGL,aAAa,GAAGG,cAAc;IAErD,IAAIE,cAAc,GAAG,IAAI,CAAClG,IAAI,CAACmG,SAAS,IAAIT,SAAS,CAACI,WAAW,GAAG,IAAI,CAAC9F,IAAI,CAACoG,SAAS,IAAIV,SAAS,CAACK,UAAU,GAAG,IAAI,CAAC/F,IAAI,CAACoG,SAAS,EAAE;MACnI,IAAI,CAAC5I,SAAS,GAAG;QACbC,KAAK,EAAE,IAAI,CAACnL,iBAAiB,CAACoF,SAAS,CAAC,qBAAqB,CAAC;QAC9DgG,QAAQ,EAAE,IAAI,CAACpL,iBAAiB,CAACoF,SAAS,CAAC,8BAA8B;OAC5E;IACL;EACJ;EAEQmJ,cAAcA,CAAA;IAClBqB,aAAa,CAAC,IAAI,CAAC1C,UAAU,CAAC2C,aAAa,CAAC;IAC5CD,aAAa,CAAC,IAAI,CAAC1C,UAAU,CAACkD,UAAU,CAAC;IAEzC,IAAI,CAAClD,UAAU,GAAG,EAAE;EACxB;EAEQoF,QAAQA,CAACyB,aAAkB;IAC/B,MAAM;MAAE3H,SAAS,GAAG,IAAI;MAAE4H,KAAK;MAAEzH;IAAM,CAAE,GAAGwH,aAAa;IACzD,MAAM5K,GAAG,GAA2B6K,KAAK,IAAI,QAAQ,IAAMzH,MAAM,IAAI,UAAW;IAEhF,IAAI,CAACpD,GAAG,IAAI,CAAC,IAAI,CAACA,GAAG,CAAC,EAAE;IAExB,IAAI,CAACA,GAAG,CAAC,CAACiD,SAAS,GAAGA,SAAS;EACnC;EAEQ2D,2BAA2B,GAAGA,CAAA,KAAW;IAC7C,IAAI,IAAI,CAAC7C,UAAU,CAACkD,UAAU,EAAE;MAC5BR,aAAa,CAAC,IAAI,CAAC1C,UAAU,CAACkD,UAAU,CAAC;MAEzC,IAAI,CAAClD,UAAU,CAACkD,UAAU,GAAG,IAAI;IACrC;IAEA,IAAI,CAAClD,UAAU,CAACkD,UAAU,GAAG6D,WAAW,CAAC,IAAI,CAAC9D,WAAW,EAAE,IAAI,CAAC3C,UAAU,CAAC0G,IAAI,CAAC;EACpF,CAAC;EAEOjG,sBAAsB,GAAGA,CAAA,KAAW;IACxC,IAAI,IAAI,CAACf,UAAU,CAAC2C,aAAa,EAAE;MAC/BD,aAAa,CAAC,IAAI,CAAC1C,UAAU,CAAC2C,aAAa,CAAC;MAE5C,IAAI,CAAC3C,UAAU,CAAC2C,aAAa,GAAG,IAAI;IACxC;IAEA,IAAI,CAAC3C,UAAU,CAAC2C,aAAa,GAAGoE,WAAW,CAAC,IAAI,CAACxE,sBAAsB,EAAE,IAAI,CAACjC,UAAU,CAAC0G,IAAI,CAAC;EAClG,CAAC;EAEOC,iBAAiB,GAAGA,CAAA,KAAK;IAC7B,MAAMC,iBAAiB,GAAG,IAAI,CAAC1F,2BAA2B,EAAE;IAE5D,IAAI,CAAChD,MAAM,GAAG;MACV2I,cAAc,EAAE,IAAI;MACpBjI,SAAS,EAAE,IAAI;MACfkI,YAAY,EAAE,KAAK;MACnBtI,aAAa,EAAE;QACXF,MAAM,EAAE;UAAEyI,KAAK,EAAEH,iBAAiB,CAACzF,WAAW,GAAG,IAAI,GAAG;QAAI,CAAE;QAC9D1C,KAAK,EAAE;UAAEsI,KAAK,EAAEH,iBAAiB,CAACzF,WAAW,GAAG,IAAI,GAAG;QAAI,CAAE;QAC7D6F,UAAU,EAAExJ,mDAAU,CAACyJ,IAAI;QAC3BC,SAAS,EAAE;UAAEH,KAAK,EAAE,EAAE;UAAE1I,GAAG,EAAE;QAAE;OAClC;MACDF,UAAU,EAAE;QACRC,KAAK,EAAE;UACHC,GAAG,EAAEuI;;;KAGhB;IAED,IAAI,CAAC3H,kBAAkB,CAAC2F,YAAY,EAAE;EAC1C,CAAC;EAEOuC,qBAAqB,GAAGA,CAAA,KAAK;IACjC,IAAI,CAAClH,SAAS,GAAG;MACbwE,IAAI,EAAE,IAAI2C,KAAK,EAAE;MACjBzC,IAAI,EAAE,IAAIyC,KAAK,EAAE;MACjB1C,KAAK,EAAE,IAAI0C,KAAK,EAAE;MAClB5C,EAAE,EAAE,IAAI4C,KAAK;KAChB;IAED,IAAI,CAACnH,SAAS,CAACwE,IAAI,CAAC4C,WAAW,GAAG,WAAW;IAC7C,IAAI,CAACpH,SAAS,CAAC0E,IAAI,CAAC0C,WAAW,GAAG,WAAW;IAC7C,IAAI,CAACpH,SAAS,CAACyE,KAAK,CAAC2C,WAAW,GAAG,WAAW;IAC9C,IAAI,CAACpH,SAAS,CAACuE,EAAE,CAAC6C,WAAW,GAAG,WAAW;IAE3C,IAAI,CAACpH,SAAS,CAACwE,IAAI,CAAC6C,GAAG,GAAG,gDAAgD;IAC1E,IAAI,CAACrH,SAAS,CAAC0E,IAAI,CAAC2C,GAAG,GAAG,gDAAgD;IAC1E,IAAI,CAACrH,SAAS,CAACyE,KAAK,CAAC4C,GAAG,GAAG,iDAAiD;IAC5E,IAAI,CAACrH,SAAS,CAACuE,EAAE,CAAC8C,GAAG,GAAG,8CAA8C;EAC1E,CAAC;EAEOC,eAAe,GAAGA,CAAA,KAAK;IAC3B,IAAI,CAACrH,IAAI,GAAG;MACRsH,SAAS,EAAE,GAAG;MACdlB,SAAS,EAAE,GAAG;MACdmB,eAAe,EAAE,CAAC;MAClBpB,SAAS,EAAE;KACd;EACL,CAAC;EAEOqB,mBAAmB,GAAGA,CAAA,KAAK;IAC/B,IAAI,CAACpS,QAAQ,GAAG;MACZsJ,SAAS,EAAE,KAAK;MAChB+I,QAAQ,EAAE;KACb;EACL,CAAC;EAEOC,iBAAiB,GAAGA,CAACzD,MAAW,EAAE0D,QAAa,EAAEC,WAAgB,EAAEC,SAAc,KAAI;IACzF5D,MAAM,CAAC1F,KAAK,GAAGsJ,SAAS,CAACtJ,KAAK;IAC9B0F,MAAM,CAAC7F,MAAM,GAAGyJ,SAAS,CAACzJ,MAAM;IAChC6F,MAAM,CAAC6D,KAAK,CAACC,UAAU,GAAG,GAAGF,SAAS,CAACjC,OAAO,IAAI,CAAC,IAAI;IACvD3B,MAAM,CAAC6D,KAAK,CAACE,SAAS,GAAG,GAAGH,SAAS,CAACI,OAAO,IAAI,CAAC,IAAI;IAEtD,MAAM5N,GAAG,GAAG4J,MAAM,CAACnB,UAAU,CAAC,IAAI,CAAC;IAEnCzI,GAAG,CAAC0I,SAAS,CAAC,CAAC,EAAE,CAAC,EAAE6E,WAAW,CAACrJ,KAAK,EAAEqJ,WAAW,CAACxJ,MAAM,CAAC;IAE1D/D,GAAG,CAACgK,SAAS,CACTsD,QAAQ,EACRC,WAAW,CAAChC,OAAO,EACnBgC,WAAW,CAACK,OAAO,EACnBL,WAAW,CAACrJ,KAAK,EACjBqJ,WAAW,CAACxJ,MAAM,EAClB,CAAC,EACD,CAAC,EACDyJ,SAAS,CAACtJ,KAAK,EACfsJ,SAAS,CAACzJ,MAAM,CACnB;EACL,CAAC;EAEakC,sBAAsBA,CAAA;IAAA,IAAAjK,MAAA;IAAA,OAAA3C,sMAAA;MAChC,MAAMgT,iBAAiB,GAAGrQ,MAAI,CAAC2K,2BAA2B,EAAE;MAE5D3K,MAAI,CAAC2H,MAAM,CAACU,SAAS,GAAG,IAAI;MAC5BrI,MAAI,CAAC0I,kBAAkB,CAAC2F,YAAY,EAAE;MAEtC,aAAa,IAAIwD,OAAO,CAAEC,OAAO,IAAI;QACjCC,UAAU,CAAC,MAAK;UACZ/R,MAAI,CAAC2H,MAAM,CAACC,UAAU,CAACC,KAAK,GAAG;YAC3BC,GAAG,EAAEuI;WACR;UAEDrQ,MAAI,CAAC2H,MAAM,CAACM,aAAa,GAAG;YACxBF,MAAM,EAAE;cAAEyI,KAAK,EAAEH,iBAAiB,CAACzF,WAAW,GAAG,IAAI,GAAG;YAAI,CAAE;YAC9D1C,KAAK,EAAE;cAAEsI,KAAK,EAAEH,iBAAiB,CAACzF,WAAW,GAAG,IAAI,GAAG;YAAI,CAAE;YAC7D6F,UAAU,EAAExJ,mDAAU,CAACyJ,IAAI;YAC3BC,SAAS,EAAE;cAAEH,KAAK,EAAE,EAAE;cAAE1I,GAAG,EAAE;YAAE;WAClC;UAED9H,MAAI,CAAC2H,MAAM,CAACC,UAAU,CAACY,MAAM,GAAGwJ,SAAS;UACzChS,MAAI,CAAC2H,MAAM,CAACU,SAAS,GAAG,KAAK;UAE7BrI,MAAI,CAAC+I,SAAS,EAAEkJ,WAAW,EAAE;UAE7BjS,MAAI,CAAC0I,kBAAkB,CAAC2F,YAAY,EAAE;UAEtCyD,OAAO,EAAE;QACb,CAAC,CAAC;MACN,CAAC,CAAC;IAAC;EACP;EAEc3H,mBAAmBA,CAAA;IAAA,IAAA7J,MAAA;IAAA,OAAAjD,sMAAA;MAC7BiD,MAAI,CAAC6Q,mBAAmB,EAAE;MAC1B7Q,MAAI,CAAC8P,iBAAiB,EAAE;MACxB9P,MAAI,CAACsQ,qBAAqB,EAAE;MAC5BtQ,MAAI,CAAC0Q,eAAe,EAAE;MAEtB,MAAM1Q,MAAI,CAAC2J,sBAAsB,EAAE;IAAC;EACxC;EAEQiI,oBAAoBA,CAAC9M,GAAsB,EAAE2C,MAAc,EAAEG,KAAa;IAC9E,MAAM;MAAE4E,MAAM;MAAEC;IAAM,CAAE,GAAI,IAAI,CAACpD,IAAI,CAACvE,GAAG,CAAC,GAAG,IAAI,CAACqJ,mBAAmB,CAAC1G,MAAM,EAAEG,KAAK,CAAE;IACrF,MAAMN,UAAU,GAAG,IAAI,CAACD,MAAM,CAACC,UAAU,CAACxC,GAAG,CAAC;IAE9C,IAAI,CAACwC,UAAU,EAAE;IAEjBA,UAAU,CAACG,MAAM,GAAGA,MAAM;IAC1BH,UAAU,CAACgK,OAAO,GAAG,CAAC;IACtBhK,UAAU,CAACM,KAAK,GAAG+C,IAAI,CAACK,GAAG,CAAC,GAAG,GAAGyB,MAAM,CAACC,CAAC,EAAE9E,KAAK,CAAC;IAClDN,UAAU,CAAC2H,OAAO,GAAGzC,MAAM,CAACE,CAAC,GAAGpF,UAAU,CAACM,KAAK,GAAG,CAAC;EACxD;EAEQ+D,mBAAmBA,CAACkG,YAA8B;IACtD,MAAMC,WAAW,GAAGD,YAAY,CAACE,WAAW;IAC5C,MAAMC,YAAY,GAAGH,YAAY,CAACI,YAAY;IAE9C,IAAI,CAAC5K,MAAM,CAACC,UAAU,CAACC,KAAK,CAACE,MAAM,GAAGuK,YAAY;IAClD,IAAI,CAAC3K,MAAM,CAACC,UAAU,CAACC,KAAK,CAACK,KAAK,GAAGkK,WAAW;IAChD,IAAI,CAACzK,MAAM,CAACC,UAAU,CAACY,MAAM,GAAG;MAAET,MAAM,EAAE,CAAC;MAAEG,KAAK,EAAE,CAAC;MAAEqH,OAAO,EAAE,CAAC;MAAEqC,OAAO,EAAE;IAAC,CAAE;IAE/E,IAAI,CAACM,oBAAoB,CAAC,QAAQ,EAAEI,YAAY,EAAEF,WAAW,CAAC;IAE9D,IAAI,CAACzI,IAAI,CAAC9B,KAAK,GAAG,IAAI,CAAC4G,mBAAmB,CAAC6D,YAAY,EAAEF,WAAW,CAAC;IAErE,MAAM7F,gBAAgB,GAAG,IAAI,CAAC1D,mBAAmB,EAAE2D,aAAa;IAEhED,gBAAgB,CAACkF,KAAK,CAACC,UAAU,GAAG,KAAK;IACzCnF,gBAAgB,CAACkF,KAAK,CAACE,SAAS,GAAG,KAAK;IAExC,IAAI,CAACjJ,kBAAkB,CAAC2F,YAAY,EAAE;EAC1C;EAEQmE,oBAAoBA,CAACC,GAAQ;IACjC,MAAMlG,gBAAgB,GAAG,IAAI,CAAC1D,mBAAmB,EAAE2D,aAAa;IAChE,MAAMkG,YAAY,GAAG,IAAI,CAAC5J,eAAe,EAAE0D,aAAa;IAExD,IAAI,CAAC6E,iBAAiB,CAAC9E,gBAAgB,EAAEkG,GAAG,EAAE,IAAI,CAAC9K,MAAM,CAACC,UAAU,CAACoH,IAAI,EAAE,IAAI,CAACrH,MAAM,CAACC,UAAU,CAACY,MAAM,CAAC;IACzG,IAAI,CAAC6I,iBAAiB,CAACqB,YAAY,EAAED,GAAG,EAAE,IAAI,CAAC9K,MAAM,CAACC,UAAU,CAACoH,IAAI,EAAE,IAAI,CAACrH,MAAM,CAACC,UAAU,CAACoH,IAAI,CAAC;IAEnG,IAAI,CAACjQ,QAAQ,CAACwJ,WAAW,GAAGmK,YAAY,CAACC,SAAS,CAAC,YAAY,CAAC;IAEhE,IAAI,CAACrE,qBAAqB,EAAE;EAChC;EAEA5G,WAAWA,CAACtG,KAAsB;IAC9B,IAAI,CAACH,WAAW,CAAC+I,IAAI,CAAC,IAAI,CAAC;IAC3B,IAAI,CAAC5I,KAAK,CAAC4I,IAAI,CAAC5I,KAAK,CAAC;IAEtB,IAAI,CAACA,KAAK,CAACwR,gBAAgB,IAAIxR,KAAK,CAACwR,gBAAgB,CAACC,IAAI,KAAK,iBAAiB,EAAE;IAElF,IAAI,CAACtE,QAAQ,CAAC;MAAElG,SAAS,EAAE,KAAK;MAAE4H,KAAK,EAAE;IAAI,CAAE,CAAC;IAChD,IAAI,CAACtI,MAAM,CAAC2I,cAAc,GAAG,KAAK;EACtC;EAEA9I,YAAYA,CAACsL,WAAwB;IAAA,IAAArR,MAAA;IACjC,IAAI,CAAC,IAAI,CAAC0H,UAAU,CAACkD,UAAU,IAAI,IAAI,CAACtN,QAAQ,CAACwJ,WAAW,EAAE;IAE9D,MAAMkK,GAAG,GAAG,IAAI5B,KAAK,EAAE;IAEvB4B,GAAG,CAAC1B,GAAG,GAAG+B,WAAW,CAACC,cAAc;IAEpCN,GAAG,CAACO,MAAM,gBAAA3V,sMAAA,CAAG,aAAW;MACpB,IAAIoV,GAAG,CAAC1K,MAAM,GAAGtG,MAAI,CAACkI,IAAI,CAACsH,SAAS,EAAE;QAClCxP,MAAI,CAACkG,MAAM,CAAC4I,YAAY,GAAG,IAAI;QAE/B9O,MAAI,CAACR,WAAW,CAAC+I,IAAI,CAAC,IAAI,CAAC;QAE3BvI,MAAI,CAACL,KAAK,CAAC4I,IAAI,CAAC;UAAE5I,KAAK,EAAE;QAAa,CAAE,CAAC;QAEzC;MACJ;MAEA,IAAI;QACAK,MAAI,CAACkG,MAAM,CAACC,UAAU,CAACoH,IAAI,GAAG;UAAEjH,MAAM,EAAE,CAAC;UAAEG,KAAK,EAAE,CAAC;UAAEqH,OAAO,EAAE,CAAC;UAAEqC,OAAO,EAAE;QAAC,CAAE;QAE7EnQ,MAAI,CAACyQ,oBAAoB,CAAC,MAAM,EAAEO,GAAG,CAAC1K,MAAM,EAAE0K,GAAG,CAACvK,KAAK,CAAC;QAExDzG,MAAI,CAACkI,IAAI,CAACqF,IAAI,GAAGvN,MAAI,CAACgN,mBAAmB,CAACgE,GAAG,CAAC1K,MAAM,EAAE0K,GAAG,CAACvK,KAAK,CAAC;QAEhE,MAAM+K,SAAS,SAASxM,iEAAsB,CAACgM,GAAG,EAAE,IAAIhM,wEAA6B,CAAC;UAAE2M,aAAa,EAAE;QAAG,CAAE,CAAC,CAAC,CAACC,iBAAiB,EAAE;QAClI,MAAMC,OAAO,GAAG7R,MAAI,CAACoH,mBAAmB,EAAE2D,aAAa,CAACC,UAAU,CAAC,IAAI,EAAE;UAAE8G,kBAAkB,EAAE;QAAI,CAAE,CAAC;QAEtG,IAAIN,SAAS,CAACO,MAAM,GAAG,CAAC,EAAE;UACtB/R,MAAI,CAACmI,QAAQ,GAAGqJ,SAAS,CAAC,CAAC,CAAC;UAC5BxR,MAAI,CAAC0F,SAAS,GAAG,IAAI;UAErB1F,MAAI,CAACyK,sBAAsB,EAAE;UAC7BzK,MAAI,CAACmN,eAAe,CAACnN,MAAI,CAACmI,QAAQ,CAACyF,SAAS,CAACoE,OAAO,EAAE,CAAC,CAAC,CAAC,CAAC;UAC1DhS,MAAI,CAAC2N,YAAY,CAAC3N,MAAI,CAACmI,QAAQ,CAACyF,SAAS,CAAC;UAC1C5N,MAAI,CAAC8L,eAAe,CAAC+F,OAAO,EAAE,CAAC7R,MAAI,CAAC0F,SAAS,CAAC;UAE9C,CAAC1F,MAAI,CAAC0F,SAAS,GAAG,EAAE1F,MAAI,CAACkI,IAAI,CAACuH,eAAe,GAAIzP,MAAI,CAACkI,IAAI,CAACuH,eAAe,GAAG,CAAE;UAE/E,IAAI,CAACzP,MAAI,CAAC0F,SAAS,IAAI1F,MAAI,CAACkI,IAAI,CAACuH,eAAe,GAAG,CAAC,EAAE;YAClDzP,MAAI,CAACkI,IAAI,CAACuH,eAAe,GAAG,CAAC;YAC7BzP,MAAI,CAAC+Q,oBAAoB,CAACC,GAAG,CAAC;YAE9B;UACJ;QACJ;QAEAhR,MAAI,CAACiH,kBAAkB,CAAC2F,YAAY,EAAE;MAC1C,CAAC,CAAC,OAAOjN,KAAU,EAAE;QACjBsS,KAAK,CAACtS,KAAK,CAACG,OAAO,CAAC;MACxB;IACJ,CAAC;EACL;;qCAtjBS/I,0BAA0B,EAAAC,+DAAA,CAAAA,4DAAA,GAAAA,+DAAA,CAAA2J,wEAAA,GAAA3J,+DAAA,CAAA6J,iFAAA,GAAA7J,+DAAA,CAAAA,oDAAA,GAAAA,+DAAA,CAAA+J,iEAAA,GAAA/J,+DAAA,CAAAiK,0DAAA;EAAA;;UAA1BlK,0BAA0B;IAAAiL,SAAA;IAAAqQ,SAAA,WAAAC,iCAAAhQ,EAAA,EAAAC,GAAA;MAAA,IAAAD,EAAA;;;;;;;;;;;;;;;;;;;;;;QCpCvCtL,4DAAA,aAAkH;QA6C9GA,wDA5CA,IAAAub,yCAAA,kBAKC,IAAAC,yCAAA,iBAmCoH,IAAAC,yCAAA,iBAIe;QASxIzb,0DAAA,EAAM;;;QApDGA,uDAAA,EAAwE;QAAxEA,wDAAA,UAAAuL,GAAA,CAAA2D,MAAA,CAAAU,SAAA,IAAArE,GAAA,CAAA2D,MAAA,CAAA2I,cAAA,KAAAtM,GAAA,CAAA2D,MAAA,CAAA4I,YAAA,CAAwE;QAuCR9X,uDAAA,EAA8C;QAA9CA,wDAAA,SAAAuL,GAAA,CAAAjF,QAAA,CAAAwJ,WAAA,IAAAvE,GAAA,CAAA2D,MAAA,CAAAU,SAAA,CAA8C;QAI/B5P,uDAAA,EAA8C;QAA9CA,wDAAA,UAAAuL,GAAA,CAAA2D,MAAA,CAAAU,SAAA,IAAArE,GAAA,CAAA2D,MAAA,CAAA4I,YAAA,CAA8C;;;mBDvB9HvY,0DAAY,EAAA4K,kDAAA,EACZiE,mEAAgB,EAAA/D,8EAAA,EAAAA,mFAAA,EAChB5K,sEAAe,EACf4O,wDAAe,EACfC,iFAAoB,EACpBC,yFAAwB,EACxBnP,gEAAe,EAAA2K,8DAAA,EACfmE,qDAAY,EAAA1D,wDAAA,EACZ1K,sFAAmB;IAAA2M,MAAA;EAAA;;;;;;;;;;;;;;;AE9BpB,IAAK+B,UAKX;AALD,WAAYA,UAAU;EACrBA,UAAA,+BAA2B;EAC3BA,UAAA,iBAAa;EACbA,UAAA,wBAAoB;EACpBA,UAAA,kBAAc;AACf,CAAC,EALWA,UAAU,KAAVA,UAAU","sources":["./src/app/security-biometrics/security-biometrics.component.ts","./src/app/security-biometrics/security-biometrics.component.html","./src/app/services/error.service.ts","./src/app/reserve-done-sheet/reserve-done-sheet.component.ts","./src/app/reserve-done-sheet/reserve-done-sheet.component.html","./src/app/biometrics-general/biometrics.component.ts","./src/app/biometrics-general/biometrics.component.html","./src/app/biometrics-general/sdk.models.ts"],"sourcesContent":["import { TranslocoModule, TranslocoService } from \"@jsverse/transloco\";\nimport { Subject, takeUntil } from \"rxjs\";\n\nimport { CommonModule } from \"@angular/common\";\nimport { Component, OnDestroy, OnInit } from \"@angular/core\";\nimport { FormBuilder, ReactiveFormsModule, UntypedFormGroup } from \"@angular/forms\";\nimport { MatBottomSheet } from \"@angular/material/bottom-sheet\";\nimport { MatButtonModule } from \"@angular/material/button\";\nimport { ActivatedRoute, Router, RouterModule } from \"@angular/router\";\n\nimport { ChromeService } from \"app/chrome.service\";\nimport { HttpWrapperService } from \"app/http-wrapper.service\";\nimport { ReserveDoneSheetComponent } from \"app/reserve-done-sheet/reserve-done-sheet.component\";\nimport { ErrorService } from \"app/services/error.service\";\nimport { VaultService } from \"app/vault.service\";\nimport { WalletModel } from \"app/wallet\";\nimport { WalletService } from \"app/wallet.service\";\nimport { WelcomeErrorComponent } from \"app/welcome-error/welcome-error.component\";\nimport { ZelfLoaderComponent } from \"app/zelf-loader/zelf-loader.component\";\nimport { ZelfFlow, ZelfNameService } from \"app/zelf-name-service.service\";\nimport { BiometricsGeneralComponent } from \"../biometrics-general/biometrics.component\";\n\n@Component({\n    imports: [\n        BiometricsGeneralComponent,\n        CommonModule,\n        MatButtonModule,\n        ReactiveFormsModule,\n        RouterModule,\n        TranslocoModule,\n        WelcomeErrorComponent,\n        ZelfLoaderComponent,\n    ],\n    selector: \"security-biometrics\",\n    styleUrls: [\"./security-biometrics.component.scss\"],\n    templateUrl: \"./security-biometrics.component.html\",\n})\nexport class SecurityBiometricsComponent implements OnInit, OnDestroy {\n    private unsubscriber$: Subject<void> = new Subject<void>();\n    private _canNavigate: boolean = true;\n\n    errorMessage: string = \"\";\n    errorTitle: string = \"\";\n    flow: ZelfFlow = \"\";\n    form!: UntypedFormGroup;\n    isNew: boolean = false;\n    loading: boolean = true;\n    newZelfName: string = \"\";\n    returnState: string = \"\";\n    showBiometrics: boolean = true;\n    zelfNameObject: any;\n    zelfProof: string = \"\";\n\n    constructor(\n        private _activatedRoute: ActivatedRoute,\n        private _bottomSheet: MatBottomSheet,\n        private _chromeService: ChromeService,\n        private _errorService: ErrorService,\n        private _formBuilder: FormBuilder,\n        private _httpWrapperService: HttpWrapperService,\n        private _router: Router,\n        private _translocoService: TranslocoService,\n        private _vaultService: VaultService,\n        private _walletService: WalletService,\n        private _zelfNameService: ZelfNameService\n    ) {\n        this.form = this._formBuilder.group({\n            hideBiometricsCheckbox: [false],\n        });\n\n        this._activatedRoute.snapshot.queryParams?.return && (this.returnState = this._activatedRoute.snapshot.queryParams.return);\n\n        this._activatedRoute.queryParams.pipe(takeUntil(this.unsubscriber$)).subscribe(async (params) => {\n            params?.return && (this.returnState = params.return);\n        });\n    }\n\n    async ngOnInit(): Promise<void> {\n        this.flow = (await this._zelfNameService.getFlow()) || \"create\";\n        this.newZelfName = await this._zelfNameService.getNewZelfName();\n        this.showBiometrics = (await this._chromeService.getItem(\"hideBiometricsMessage\")) || false;\n        this.zelfProof = await this._zelfNameService.getZelfProof();\n\n        const zelfNameObject = await this._zelfNameService.getZelfNameObject();\n\n        if (zelfNameObject) this.zelfNameObject = new WalletModel(zelfNameObject);\n        else this.zelfNameObject = this.zelfNameObject;\n\n        this.isNew = this.flow === \"create\" || this.flow === \"import\" || (this.flow === \"recover\" && this.zelfNameObject?.available);\n\n        this.loading = false;\n    }\n\n    ngOnDestroy(): void {\n        this.unsubscriber$.next();\n        this.unsubscriber$.complete();\n    }\n\n    async _createWallet(payload: any): Promise<void> {\n        const mnemonicCount = (await this._zelfNameService.getMnemonicCount()) || 12;\n\n        this._zelfNameService\n            .leaseZelfName({\n                ...payload,\n                type: \"create\",\n                wordsCount: mnemonicCount,\n            })\n            .then(async (response) => {\n                await this._chromeService.removeItem(\"flow\");\n                await this._chromeService.setItem(\"wallet\", new WalletModel(response.data));\n\n                this._redirect();\n            })\n            .catch(this.onBiometricsFailed);\n    }\n\n    private async _decryptWallet(payload: any): Promise<void> {\n        const zelfProof = await this._zelfNameService.getZelfProof();\n        const userFingerprint = this._walletService.getUserFingerprint();\n\n        this._zelfNameService\n            .decryptZelfName({\n                ...payload,\n                zelfProof,\n                identifier: userFingerprint.hash,\n            })\n            .then(async (response) => {\n                await this._chromeService.removeItem(\"flow\");\n                await this._chromeService.setItem(\"wallet\", new WalletModel(response.data));\n\n                this._redirect();\n            })\n            .catch(this.onBiometricsFailed);\n    }\n\n    private async _importWallet(payload: any): Promise<void> {\n        this._zelfNameService\n            .leaseZelfName({\n                ...payload,\n                mnemonic: await this._httpWrapperService.encryptMessage(this._vaultService.mnemonic),\n                type: \"import\",\n            })\n            .then(async (response) => {\n                this._vaultService.mnemonic = \"\";\n\n                await this._chromeService.removeItem(\"flow\");\n                await this._chromeService.setItem(\"wallet\", new WalletModel(response.data));\n\n                this._redirect();\n            })\n            .catch(this.onBiometricsFailed);\n    }\n\n    private async _leaseRecovery(payload: any): Promise<void> {\n        this._zelfNameService\n            .zelfNameLeaseRecovery({\n                ...payload,\n                zelfProof: this.zelfProof,\n                newZelfName: this.newZelfName,\n            })\n            .then(async (response) => {\n                await this._chromeService.removeItem(\"newZelfName\");\n                await this._chromeService.setItem(\"wallet\", new WalletModel(response.data));\n\n                this._bottomSheet.open(ReserveDoneSheetComponent, {\n                    backdropClass: \"zelf-backdrop\",\n                    panelClass: \"zelf-bottom-sheet\",\n                    data: { zelfName: this.newZelfName },\n                });\n            })\n            .catch(this.onBiometricsFailed);\n    }\n\n    private _redirect(): void {\n        if (this.returnState) {\n            this._router.navigate([this.returnState], { replaceUrl: true, queryParams: { return: this.returnState } });\n\n            return;\n        }\n\n        this._router.navigate([\"/welcome/complete\"]);\n    }\n\n    canNavigateAway(): boolean {\n        return this._canNavigate;\n    }\n\n    canNavigateAwayHandler(canNavigate: boolean = false): void {\n        this._canNavigate = canNavigate;\n    }\n\n    goBack(): void {\n        if (this.returnState) {\n            this._router.navigate([this.returnState], { queryParams: { return: this.returnState } });\n        } else this._router.navigate([\"/security/password\"]);\n    }\n\n    onBiometricsFailed = (exception: any): void => {\n        console.error(exception);\n\n        this.errorTitle = this._translocoService.translate(\"errors.generic_title\");\n        this.errorMessage = this._errorService.translateErrorMessage(exception?.error?.message || exception?.error?.error, \"errors.generic_identity\");\n    };\n\n    async onBiometricsScanned(encryptedImage: string): Promise<void> {\n        const zelfName = await this._zelfNameService.getZelfName();\n        const referralZelfName = await this._zelfNameService.getReferral();\n\n        const payload: any = {\n            faceBase64: encryptedImage,\n            os: \"DESKTOP\",\n            password: await this._httpWrapperService.encryptMessage(this._vaultService.password),\n            referralZelfName,\n            zelfName,\n        };\n\n        if (this.flow === \"create\") {\n            this._createWallet(payload);\n        } else if (this.flow === \"import\") {\n            this._importWallet(payload);\n        } else if (this.flow === \"recover\") {\n            this._leaseRecovery(payload);\n        } else {\n            this._decryptWallet(payload);\n        }\n    }\n\n    async startBiometrics(): Promise<void> {\n        this._chromeService.setItem(\"hideBiometricsMessage\", this.form.controls.hideBiometricsCheckbox.value);\n\n        this.showBiometrics = true;\n    }\n}\n","<ng-container *ngIf=\"!errorTitle\">\n    <ng-container *transloco=\"let t\">\n        <zelf-loader [diameter]=\"256\" *ngIf=\"loading\"></zelf-loader>\n\n        <ng-container *ngIf=\"!loading\">\n            <ng-container *ngIf=\"!showBiometrics\">\n                <div class=\"zelf-card\">\n                    <div class=\"zelf-card__header security-biometrics__header\">\n                        <div class=\"security-biometrics__header-button\">\n                            <button\n                                mat-icon-button\n                                class=\"zelf-icon-button zelf-icon-button--40\"\n                                [routerLink]=\"['../password']\"\n                                [queryParams]=\"{ return: returnState }\"\n                            >\n                                <svg viewBox=\"0 0 22 14\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                                    <path\n                                        d=\"M20.0898 5.8277H4.72478L8.08478 2.4677C8.53978 2.0127 8.53978 1.2777 8.08478 0.822695C7.62978 0.367695 6.89478 0.367695 6.43978 0.822695L1.08478 6.1777C0.62978 6.6327 0.62978 7.3677 1.08478 7.8227L6.43978 13.1777C6.89478 13.6327 7.62978 13.6327 8.08478 13.1777C8.53978 12.7227 8.53978 11.9877 8.08478 11.5327L4.72478 8.16103H20.0898C20.7314 8.16103 21.2564 7.63603 21.2564 6.99436C21.2564 6.3527 20.7314 5.8277 20.0898 5.8277Z\"\n                                    />\n                                </svg>\n                            </button>\n                        </div>\n\n                        <img class=\"zelf-card__image\" src=\"assets/images/biometric_zkfp.svg\" alt=\"welcome\" />\n\n                        <h2 class=\"zelf-card__title\">{{ t(isNew ? \"security.biometric_title\" : \"security.biometric_decryption_title\") }}</h2>\n\n                        <p\n                            class=\"zelf-card__subtitle\"\n                            [innerHTML]=\"t(isNew ? 'security.biometric_subtitle' : 'security.biometric_decryption_subtitle')\"\n                        ></p>\n                    </div>\n\n                    <form [formGroup]=\"form\" class=\"zelf-card__actions security-biometrics__actions\">\n                        <label for=\"hideBiometricsCheckbox\" class=\"zelf-checkbox\">\n                            <input\n                                formControlName=\"hideBiometricsCheckbox\"\n                                id=\"hideBiometricsCheckbox\"\n                                name=\"hideBiometricsCheckbox\"\n                                type=\"checkbox\"\n                            />\n\n                            <svg viewBox=\"0 0 21 21\">\n                                <polyline points=\"5 10.75 8.5 14.25 16 6\"></polyline>\n                            </svg>\n\n                            {{ t(\"common.dont_show_this_message_again\") }}\n                        </label>\n\n                        <button (click)=\"startBiometrics()\" class=\"zelf-button zelf-button--black zelf-button--wide\" mat-flat-button>\n                            {{ t(\"common.start\") }}\n                        </button>\n                    </form>\n                </div>\n            </ng-container>\n\n            <ng-container *ngIf=\"showBiometrics\">\n                <biometrics-general\n                    (canNavigate)=\"canNavigateAwayHandler($event)\"\n                    (error)=\"onBiometricsFailed($event)\"\n                    (imageCaptured)=\"onBiometricsScanned($event)\"\n                ></biometrics-general>\n            </ng-container>\n        </ng-container>\n    </ng-container>\n</ng-container>\n\n<ng-container *ngIf=\"errorTitle\">\n    <welcome-error (goBack)=\"goBack()\" [errorTitle]=\"errorTitle\" [errorMessage]=\"errorMessage\"></welcome-error>\n</ng-container>\n\n<ng-template #cross>\n    <svg width=\"64\" height=\"64\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path\n            d=\"M10 0C4.47 0 0 4.47 0 10C0 15.53 4.47 20 10 20C15.53 20 20 15.53 20 10C20 4.47 15.53 0 10 0ZM14.3 14.3C13.91 14.69 13.28 14.69 12.89 14.3L10 11.41L7.11 14.3C6.72 14.69 6.09 14.69 5.7 14.3C5.31 13.91 5.31 13.28 5.7 12.89L8.59 10L5.7 7.11C5.31 6.72 5.31 6.09 5.7 5.7C6.09 5.31 6.72 5.31 7.11 5.7L10 8.59L12.89 5.7C13.28 5.31 13.91 5.31 14.3 5.7C14.69 6.09 14.69 6.72 14.3 7.11L11.41 10L14.3 12.89C14.68 13.27 14.68 13.91 14.3 14.3Z\"\n            fill=\"#DC362E\"\n        />\n    </svg>\n</ng-template>\n","import { Injectable } from \"@angular/core\";\nimport { TranslocoService } from \"@jsverse/transloco\";\n\n@Injectable({\n    providedIn: \"root\",\n})\nexport class ErrorService {\n    _defaultErrorMessage = \"\";\n\n    constructor(private _translocoService: TranslocoService) {\n        this._defaultErrorMessage = this._translocoService.translate(\"errors.generic\");\n    }\n\n    translateErrorMessage(key: string, fallbackErrorKey: string = \"\"): string {\n        const formattedKey = `errors.${key}`;\n        const translation = this._translocoService.translate(formattedKey);\n\n        return translation !== formattedKey\n            ? translation\n            : fallbackErrorKey\n            ? this._translocoService.translate(fallbackErrorKey)\n            : this._defaultErrorMessage;\n    }\n}\n","import { Component, Inject } from \"@angular/core\";\nimport { MAT_BOTTOM_SHEET_DATA, MatBottomSheetRef } from \"@angular/material/bottom-sheet\";\nimport { MatButtonModule } from \"@angular/material/button\";\nimport { Router } from \"@angular/router\";\nimport { TranslocoModule } from \"@jsverse/transloco\";\n\n@Component({\n    imports: [TranslocoModule, MatButtonModule],\n    selector: \"reserve-done-sheet\",\n    styleUrls: [\"./reserve-done-sheet.component.scss\"],\n    templateUrl: \"./reserve-done-sheet.component.html\",\n})\nexport class ReserveDoneSheetComponent {\n    constructor(\n        @Inject(MAT_BOTTOM_SHEET_DATA) public data: any,\n        private _bottomSheetRef: MatBottomSheetRef<ReserveDoneSheetComponent>,\n        private _router: Router\n    ) {}\n\n    goToWelcomeComplete(): void {\n        this._router.navigate([\"/welcome/complete\"]);\n        this._bottomSheetRef.dismiss();\n    }\n\n    async purchaseNow(): Promise<void> {\n        await this._router.navigate([\n            \"/external-link\",\n            { extraParams: { externalUrl: `https://payment.zelf.world/purchase?zelfName=${this.data.zelfName}` } },\n        ]);\n\n        this.goToWelcomeComplete();\n    }\n}\n","<ng-container *transloco=\"let t\">\n    <div class=\"reserve-done-sheet\">\n        <button mat-flat-button mat-icon-button class=\"reserve-done-sheet__exit\" (click)=\"goToWelcomeComplete()\">\n            <svg width=\"14\" height=\"14\" viewBox=\"0 0 14 14\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                <path\n                    d=\"M13.3 0.710703C12.91 0.320703 12.28 0.320703 11.89 0.710703L6.99997 5.5907L2.10997 0.700703C1.71997 0.310703 1.08997 0.310703 0.699971 0.700703C0.309971 1.0907 0.309971 1.7207 0.699971 2.1107L5.58997 7.0007L0.699971 11.8907C0.309971 12.2807 0.309971 12.9107 0.699971 13.3007C1.08997 13.6907 1.71997 13.6907 2.10997 13.3007L6.99997 8.4107L11.89 13.3007C12.28 13.6907 12.91 13.6907 13.3 13.3007C13.69 12.9107 13.69 12.2807 13.3 11.8907L8.40997 7.0007L13.3 2.1107C13.68 1.7307 13.68 1.0907 13.3 0.710703Z\"\n                />\n            </svg>\n        </button>\n\n        <div class=\"reserve-done-sheet__body\">\n            <svg class=\"reserve-done-sheet__icon\" width=\"53\" height=\"66\" viewBox=\"0 0 16 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                <path\n                    d=\"M8 0L0 3V9.09C0 14.14 3.41 18.85 8 20C12.59 18.85 16 14.14 16 9.09V3L8 0ZM14 9.09C14 13.09 11.45 16.79 8 17.92C4.55 16.79 2 13.1 2 9.09V4.31L8 2.19L14 4.31V9.09ZM4.82 8.59L3.4 10L6.94 13.54L12.6 7.88L11.19 6.47L6.95 10.71L4.82 8.59Z\"\n                    fill=\"#181818\"\n                />\n            </svg>\n\n            <h4 class=\"reserve-done-sheet__pretitle\">\n                {{ t(\"welcome.transfer_done\") }}\n            </h4>\n\n            <h3 class=\"reserve-done-sheet__title\">\n                {{ this.data.zelfName }}\n            </h3>\n\n            <p class=\"reserve-done-sheet__text\">\n                {{ t(\"welcome.enjoy_your_domain\") }}\n            </p>\n        </div>\n\n        <div class=\"reserve-done-sheet__actions\">\n            <button (click)=\"goToWelcomeComplete()\" class=\"zelf-button zelf-button--outlined zelf-button--wide\" mat-flat-button>\n                {{ t(\"welcome.got_it\") }}\n            </button>\n\n            <button (click)=\"purchaseNow()\" class=\"zelf-button zelf-button--black zelf-button--wide\" mat-flat-button>\n                {{ t(\"common.purchase_now\") }}\n            </button>\n        </div>\n    </div>\n</ng-container>\n","import { TranslocoModule, TranslocoService } from \"@jsverse/transloco\";\nimport * as faceapi from \"@vladmandic/face-api\";\nimport { debounce, DebouncedFunc } from \"lodash\";\nimport { WebcamComponent, WebcamImage, WebcamInitError, WebcamModule } from \"ngx-webcam\";\nimport { Observable, Subject, takeUntil } from \"rxjs\";\n\nimport { CommonModule } from \"@angular/common\";\nimport { ChangeDetectorRef, Component, ElementRef, EventEmitter, OnDestroy, OnInit, Output, Renderer2, ViewChild } from \"@angular/core\";\nimport { FlexLayoutModule } from \"@angular/flex-layout\";\nimport { MatButtonModule } from \"@angular/material/button\";\nimport { MatDialogModule } from \"@angular/material/dialog\";\nimport { MatProgressBarModule } from \"@angular/material/progress-bar\";\nimport { MatProgressSpinnerModule } from \"@angular/material/progress-spinner\";\n\nimport { HttpWrapperService } from \"app/http-wrapper.service\";\nimport { MediaStreamService } from \"app/services/media-stream.service\";\nimport { ZelfLoaderComponent } from \"app/zelf-loader/zelf-loader.component\";\nimport { WalletService } from \"../wallet.service\";\nimport { CameraData, directionImage, ErrorFace, FaceData, FacingMode, Intervals, OvalData, ResponseData } from \"./sdk.models\";\n\n@Component({\n    imports: [\n        CommonModule,\n        FlexLayoutModule,\n        MatButtonModule,\n        MatDialogModule,\n        MatProgressBarModule,\n        MatProgressSpinnerModule,\n        TranslocoModule,\n        WebcamModule,\n        ZelfLoaderComponent,\n    ],\n    selector: \"biometrics-general\",\n    styleUrls: [\"./biometrics.component.scss\"],\n    templateUrl: \"./biometrics.component.html\",\n})\nexport class BiometricsGeneralComponent implements OnInit, OnDestroy {\n    @ViewChild(\"maskResult\", { static: false }) public maskResultCanvasRef: ElementRef | undefined;\n    @ViewChild(\"toSend\", { static: false }) public ToSendCanvasRef: ElementRef | undefined;\n    @ViewChild(\"webcam\", { static: false }) public webcamRef?: WebcamComponent;\n\n    @Output() canNavigate: EventEmitter<boolean> = new EventEmitter<boolean>();\n    @Output() error: EventEmitter<any> = new EventEmitter<any>();\n    @Output() imageCaptured: EventEmitter<string> = new EventEmitter<string>();\n\n    private _resizeUnlisten: () => void = () => {};\n\n    private _debounceWindowResize: DebouncedFunc<() => void>;\n    private _intervals: Intervals = {};\n    private _takePicture: Subject<void> = new Subject<void>();\n    private unsubscriber$: Subject<void> = new Subject<void>();\n\n    //ACTIVE DEBUG GRAPHIC MODE\n    debugIndex!: number;\n    debugText: string = \"debug\";\n    isActiveDebug!: Boolean;\n\n    aspectRatio = 0.75;\n    camera!: CameraData;\n    deviceData: any;\n    direction!: directionImage;\n    errorFace!: ErrorFace | null;\n    face!: FaceData;\n    lastFace: any;\n    marginX!: number;\n    marginY!: number;\n    response!: ResponseData;\n\n    constructor(\n        private _changeDetectorRef: ChangeDetectorRef,\n        private _httpWrapperService: HttpWrapperService,\n        private _mediaStreamService: MediaStreamService,\n        private _renderer: Renderer2,\n        private _translocoService: TranslocoService,\n        private _walletService: WalletService\n    ) {\n        this.deviceData = this._walletService.getDeviceData();\n\n        this._debounceWindowResize = debounce(async () => {\n            this.canNavigate.emit(false);\n\n            await this._setMaxVideoDimensions();\n\n            this._startNgxVideoInterval();\n        }, 300);\n    }\n\n    async ngOnInit(): Promise<void> {\n        await this._startDefaultValues();\n\n        this._resizeUnlisten = this._renderer.listen(\"window\", \"resize\", this._debounceWindowResize);\n\n        this._walletService.faceapi$.pipe(takeUntil(this.unsubscriber$)).subscribe(async (isLoaded) => {\n            this.canNavigate.emit(false);\n\n            this.camera.isLoading = !isLoaded;\n\n            if (!isLoaded) return;\n\n            await this._setMaxVideoDimensions();\n\n            this._startNgxVideoInterval();\n        });\n    }\n\n    async ngOnDestroy(): Promise<void> {\n        await this._mediaStreamService.stopAllStreams();\n\n        this.canNavigate.emit(true);\n\n        this._resizeUnlisten();\n        this._killIntervals();\n\n        this._debounceWindowResize.cancel();\n\n        this.unsubscriber$.next();\n        this.unsubscriber$.complete();\n    }\n\n    public get takePicture$(): Observable<void> {\n        return this._takePicture.asObservable();\n    }\n\n    private _calculateDisplayDimensions() {\n        const isLandscape = window.innerHeight < window.innerWidth;\n\n        const maxAvailableHeight = Math.ceil(window.innerHeight * 0.7);\n        const maxAvailableWidth = Math.ceil(window.innerWidth * 0.9);\n\n        const targetAspectRatio = 16 / 9;\n\n        if (isLandscape) {\n            const maxHeight = Math.min(maxAvailableHeight, 1920);\n            const calculatedWidth = Math.round(maxHeight * targetAspectRatio);\n            const maxWidth = Math.min(maxAvailableWidth, 1920);\n\n            return {\n                isLandscape,\n                height: maxHeight,\n                width: Math.min(calculatedWidth, maxWidth),\n            };\n        } else {\n            const maxHeight = Math.min(maxAvailableHeight, 1920);\n            const calculatedWidth = Math.round(maxHeight * targetAspectRatio);\n            const maxWidth = Math.min(maxAvailableWidth, 1080);\n\n            return {\n                isLandscape,\n                height: maxHeight,\n                width: Math.min(calculatedWidth, maxWidth),\n            };\n        }\n    }\n\n    private _checkVideoStreamReady = () => {\n        const videoNgx = this.webcamRef?.nativeVideoElement;\n\n        if (!videoNgx) return;\n\n        clearInterval(this._intervals.checkNgxVideo);\n\n        this._intervals.checkNgxVideo = null;\n\n        videoNgx.addEventListener(\n            \"loadeddata\",\n            () => {\n                this._startFaceDetectionInterval();\n                this.canNavigate.emit(true);\n\n                this._setVideoDimensions(videoNgx);\n                this._drawOvalCenterAndMask();\n            },\n            { once: true }\n        );\n\n        this._setVideoDimensions(videoNgx);\n        this._drawOvalCenterAndMask();\n    };\n\n    private _detectFace = () => {\n        if (this.response.base64Image) {\n            this._intervals.detectFace = clearInterval(this._intervals.detectFace);\n\n            return;\n        }\n\n        this._takePicture.next();\n    };\n\n    private _drawOvalCenterAndMask(): void {\n        const videoDim = this.camera.dimensions.video;\n        const maskResultCanvas = this.maskResultCanvasRef?.nativeElement;\n\n        maskResultCanvas.height = videoDim.height;\n        maskResultCanvas.width = videoDim.width;\n\n        const ctx: CanvasRenderingContext2D = maskResultCanvas.getContext(\"2d\");\n\n        ctx.clearRect(0, 0, videoDim.width || 0, videoDim.height || 0);\n\n        ctx.fillStyle = \"rgba(255, 255, 255, 0.75)\";\n        ctx.fillRect(0, 0, videoDim.width || 0, videoDim.height || 0);\n        ctx.globalCompositeOperation = \"destination-out\";\n\n        const { center, radius } = this.face.video || { center: { x: 0, y: 0 }, radius: { x: 0, y: 0 } };\n\n        ctx.fillStyle = \"rgba(255, 255, 255, 1)\";\n        ctx.beginPath();\n        ctx.ellipse(center?.x, center?.y, radius.x, radius.y, 0, 0, 2 * Math.PI);\n        ctx.fill();\n        ctx.closePath();\n        ctx.globalCompositeOperation = \"source-over\";\n    }\n\n    private _drawStatusOval(ctx: any, isOk?: any): void {\n        const { center, radius } = this.face.video || { center: { x: 0, y: 0 }, radius: { x: 0, y: 0 } };\n\n        ctx.beginPath();\n        ctx.ellipse(center.x, center.y, radius.x, radius.y, 0, 0, 2 * Math.PI);\n        ctx.lineWidth = 5;\n        ctx.strokeStyle = isOk ? \"green\" : \"red\";\n        ctx.stroke();\n        ctx.closePath();\n\n        if (!isOk) {\n            if (this.errorFace?.canvas?.includes(\"↑\")) {\n                const startX = center.x - 20;\n                const startY = center.y - radius.y + 10;\n\n                ctx.drawImage(this.direction.up, startX, startY, 40, 40);\n            }\n\n            if (this.errorFace?.canvas?.includes(\"↓\")) {\n                const startX = center.x - 20;\n                const startY = center.y + radius.y - 50;\n\n                ctx.drawImage(this.direction.down, startX, startY, 40, 40);\n            }\n\n            if (this.errorFace?.canvas?.includes(\"→\")) {\n                const startX = center.x + radius.x - 50;\n                const startY = center.y - 20;\n\n                ctx.drawImage(this.direction.right, startX, startY, 40, 40);\n            }\n\n            if (this.errorFace?.canvas?.includes(\"←\")) {\n                const startX = center.x - radius.x + 10;\n                const startY = center.y - 20;\n\n                ctx.drawImage(this.direction.left, startX, startY, 40, 40);\n            }\n        }\n\n        this._changeDetectorRef.markForCheck();\n    }\n\n    private async _emitBiometricCapture(): Promise<any> {\n        if (this.response.isLoading) return;\n\n        this._loading({ result: true });\n\n        const base64Image = this.response.base64Image?.replace(/^data:.*;base64,/, \"\") as string;\n        const encryptedImage = await this._httpWrapperService.encryptMessage(base64Image);\n\n        this.imageCaptured.emit(encryptedImage);\n    }\n\n    private _getCenterAndRadius = (height: number, width: number) => {\n        const data: OvalData = {\n            center: {\n                x: width / 2,\n                y: height / 2,\n            },\n            radius: {\n                x: 0,\n                y: 0,\n            },\n            margin: {\n                y: height * 0.05,\n                x: 0,\n            },\n        };\n\n        data.margin.x = data.margin.y * 0.8;\n        data.radius.y = height * 0.42;\n        data.radius.x = data.radius.y * this.aspectRatio;\n\n        if (data.radius.x * 2 >= width) {\n            data.radius.x = width * 0.48;\n            data.radius.y = data.radius.x / this.aspectRatio;\n        }\n\n        return data;\n    };\n\n    private _inRange(value: number, min: number, max: number) {\n        return value >= min && value <= max;\n    }\n\n    private _isFaceCentered(nose: any): void {\n        const faceCenterX = nose.x;\n        const faceCenterY = nose.y;\n\n        const { center, margin } = this.face.real || { center: { x: 0, y: 0 }, margin: { x: 0, y: 0 } };\n\n        const inRangeX = this._inRange(faceCenterX, center.x - margin.x, center.x + margin.x);\n        const inRangeY = this._inRange(faceCenterY, center.y, center.y + margin.y * 2.5);\n\n        const isFaceCentered = inRangeX && inRangeY;\n\n        if (isFaceCentered) return;\n\n        let direction = \"\";\n\n        if (!inRangeX) direction += `${faceCenterX < center.x - margin.x ? \"←\" : \"→\"}`;\n        if (!inRangeY) direction += `${faceCenterY < center.y ? \"↓\" : \"↑\"}`;\n\n        this.errorFace = {\n            canvas: direction,\n            subtitle: this._translocoService.translate(\"liveness.center_your_face_subtitle\"),\n            title: this._translocoService.translate(\"liveness.center_your_face\"),\n        };\n    }\n\n    private _isFaceClose(landmarks: faceapi.FaceLandmarks68): void {\n        const realDim = this.camera.dimensions.real || { center: { x: 0, y: 0 }, margin: { x: 0, y: 0 }, height: 0, width: 0, offsetX: 0 };\n        const totalFaceArea = landmarks.imageHeight * landmarks.imageWidth;\n        const totalImageArea = Math.floor(realDim.height * (realDim.width - realDim.offsetX));\n        const faceProportion = totalFaceArea / totalImageArea;\n\n        if (faceProportion < this.face.threshold || landmarks.imageHeight < this.face.minPixels || landmarks.imageWidth < this.face.minPixels) {\n            this.errorFace = {\n                title: this._translocoService.translate(\"liveness.get_closer\"),\n                subtitle: this._translocoService.translate(\"liveness.get_closer_subtitle\"),\n            };\n        }\n    }\n\n    private _killIntervals(): void {\n        clearInterval(this._intervals.checkNgxVideo);\n        clearInterval(this._intervals.detectFace);\n\n        this._intervals = {};\n    }\n\n    private _loading(paramsLoading: any) {\n        const { isLoading = true, start, result } = paramsLoading;\n        const key: \"camera\" | \"response\" = (start && \"camera\") || (result && \"response\");\n\n        if (!key || !this[key]) return;\n\n        this[key].isLoading = isLoading;\n    }\n\n    private _startFaceDetectionInterval = (): void => {\n        if (this._intervals.detectFace) {\n            clearInterval(this._intervals.detectFace);\n\n            this._intervals.detectFace = null;\n        }\n\n        this._intervals.detectFace = setInterval(this._detectFace, this.deviceData.time);\n    };\n\n    private _startNgxVideoInterval = (): void => {\n        if (this._intervals.checkNgxVideo) {\n            clearInterval(this._intervals.checkNgxVideo);\n\n            this._intervals.checkNgxVideo = null;\n        }\n\n        this._intervals.checkNgxVideo = setInterval(this._checkVideoStreamReady, this.deviceData.time);\n    };\n\n    private _setDefaultCamera = () => {\n        const displayDimensions = this._calculateDisplayDimensions();\n\n        this.camera = {\n            hasPermissions: true,\n            isLoading: true,\n            isLowQuality: false,\n            configuration: {\n                height: { ideal: displayDimensions.isLandscape ? 1080 : 1920 },\n                width: { ideal: displayDimensions.isLandscape ? 1920 : 1080 },\n                facingMode: FacingMode.USER,\n                frameRate: { ideal: 30, max: 30 },\n            },\n            dimensions: {\n                video: {\n                    max: displayDimensions,\n                },\n            },\n        };\n\n        this._changeDetectorRef.markForCheck();\n    };\n\n    private _setDefaultDirections = () => {\n        this.direction = {\n            down: new Image(),\n            left: new Image(),\n            right: new Image(),\n            up: new Image(),\n        };\n\n        this.direction.down.crossOrigin = \"anonymous\";\n        this.direction.left.crossOrigin = \"anonymous\";\n        this.direction.right.crossOrigin = \"anonymous\";\n        this.direction.up.crossOrigin = \"anonymous\";\n\n        this.direction.down.src = \"https://cdn.verifik.co/web-sdk/images/down.png\";\n        this.direction.left.src = \"https://cdn.verifik.co/web-sdk/images/left.png\";\n        this.direction.right.src = \"https://cdn.verifik.co/web-sdk/images/right.png\";\n        this.direction.up.src = \"https://cdn.verifik.co/web-sdk/images/up.png\";\n    };\n\n    private _setDefaultFace = () => {\n        this.face = {\n            minHeight: 240,\n            minPixels: 240,\n            successPosition: 0,\n            threshold: 0.25,\n        };\n    };\n\n    private _setDefaultResponse = () => {\n        this.response = {\n            isLoading: false,\n            isFailed: false,\n        };\n    };\n\n    private _setImageOnCanvas = (canvas: any, inputImg: any, originalDim: any, resizeDim: any) => {\n        canvas.width = resizeDim.width;\n        canvas.height = resizeDim.height;\n        canvas.style.marginLeft = `${resizeDim.offsetX || 0}px`;\n        canvas.style.marginTop = `${resizeDim.offsetY || 0}px`;\n\n        const ctx = canvas.getContext(\"2d\");\n\n        ctx.clearRect(0, 0, originalDim.width, originalDim.height);\n\n        ctx.drawImage(\n            inputImg,\n            originalDim.offsetX,\n            originalDim.offsetY,\n            originalDim.width,\n            originalDim.height,\n            0,\n            0,\n            resizeDim.width,\n            resizeDim.height\n        );\n    };\n\n    private async _setMaxVideoDimensions(): Promise<void> {\n        const displayDimensions = this._calculateDisplayDimensions();\n\n        this.camera.isLoading = true;\n        this._changeDetectorRef.markForCheck();\n\n        return await new Promise((resolve) => {\n            setTimeout(() => {\n                this.camera.dimensions.video = {\n                    max: displayDimensions,\n                };\n\n                this.camera.configuration = {\n                    height: { ideal: displayDimensions.isLandscape ? 1080 : 1920 },\n                    width: { ideal: displayDimensions.isLandscape ? 1920 : 1080 },\n                    facingMode: FacingMode.USER,\n                    frameRate: { ideal: 30, max: 30 },\n                };\n\n                this.camera.dimensions.result = undefined;\n                this.camera.isLoading = false;\n\n                this.webcamRef?.videoResize();\n\n                this._changeDetectorRef.markForCheck();\n\n                resolve();\n            });\n        });\n    }\n\n    private async _startDefaultValues() {\n        this._setDefaultResponse();\n        this._setDefaultCamera();\n        this._setDefaultDirections();\n        this._setDefaultFace();\n\n        await this._setMaxVideoDimensions();\n    }\n\n    private _setResultDimensions(key: \"real\" | \"result\", height: number, width: number) {\n        const { center, radius } = (this.face[key] = this._getCenterAndRadius(height, width));\n        const dimensions = this.camera.dimensions[key];\n\n        if (!dimensions) return;\n\n        dimensions.height = height;\n        dimensions.offsetY = 0;\n        dimensions.width = Math.min(2.8 * radius.x, width);\n        dimensions.offsetX = center.x - dimensions.width / 2;\n    }\n\n    private _setVideoDimensions(videoElement: HTMLVideoElement) {\n        const actualWidth = videoElement.clientWidth;\n        const actualHeight = videoElement.clientHeight;\n\n        this.camera.dimensions.video.height = actualHeight;\n        this.camera.dimensions.video.width = actualWidth;\n        this.camera.dimensions.result = { height: 0, width: 0, offsetX: 0, offsetY: 0 };\n\n        this._setResultDimensions(\"result\", actualHeight, actualWidth);\n\n        this.face.video = this._getCenterAndRadius(actualHeight, actualWidth);\n\n        const maskResultCanvas = this.maskResultCanvasRef?.nativeElement;\n\n        maskResultCanvas.style.marginLeft = `0px`;\n        maskResultCanvas.style.marginTop = `0px`;\n\n        this._changeDetectorRef.markForCheck();\n    }\n\n    private _takePictureLiveness(img: any) {\n        const maskResultCanvas = this.maskResultCanvasRef?.nativeElement;\n        const toSendCanvas = this.ToSendCanvasRef?.nativeElement;\n\n        this._setImageOnCanvas(maskResultCanvas, img, this.camera.dimensions.real, this.camera.dimensions.result);\n        this._setImageOnCanvas(toSendCanvas, img, this.camera.dimensions.real, this.camera.dimensions.real);\n\n        this.response.base64Image = toSendCanvas.toDataURL(\"image/jpeg\");\n\n        this._emitBiometricCapture();\n    }\n\n    cameraError(error: WebcamInitError): void {\n        this.canNavigate.emit(true);\n        this.error.emit(error);\n\n        if (!error.mediaStreamError || error.mediaStreamError.name !== \"NotAllowedError\") return;\n\n        this._loading({ isLoading: false, start: true });\n        this.camera.hasPermissions = false;\n    }\n\n    processImage(webcamImage: WebcamImage): void {\n        if (!this._intervals.detectFace || this.response.base64Image) return;\n\n        const img = new Image();\n\n        img.src = webcamImage.imageAsDataUrl;\n\n        img.onload = async () => {\n            if (img.height < this.face.minHeight) {\n                this.camera.isLowQuality = true;\n\n                this.canNavigate.emit(true);\n\n                this.error.emit({ error: \"low_quality\" });\n\n                return;\n            }\n\n            try {\n                this.camera.dimensions.real = { height: 0, width: 0, offsetX: 0, offsetY: 0 };\n\n                this._setResultDimensions(\"real\", img.height, img.width);\n\n                this.face.real = this._getCenterAndRadius(img.height, img.width);\n\n                const detection = await faceapi.detectAllFaces(img, new faceapi.SsdMobilenetv1Options({ minConfidence: 0.2 })).withFaceLandmarks();\n                const context = this.maskResultCanvasRef?.nativeElement.getContext(\"2d\", { willReadFrequently: true });\n\n                if (detection.length > 0) {\n                    this.lastFace = detection[0];\n                    this.errorFace = null;\n\n                    this._drawOvalCenterAndMask();\n                    this._isFaceCentered(this.lastFace.landmarks.getNose()[3]);\n                    this._isFaceClose(this.lastFace.landmarks);\n                    this._drawStatusOval(context, !this.errorFace);\n\n                    !this.errorFace ? ++this.face.successPosition : (this.face.successPosition = 0);\n\n                    if (!this.errorFace && this.face.successPosition > 2) {\n                        this.face.successPosition = 0;\n                        this._takePictureLiveness(img);\n\n                        return;\n                    }\n                }\n\n                this._changeDetectorRef.markForCheck();\n            } catch (error: any) {\n                alert(error.message);\n            }\n        };\n    }\n}\n","<div fxLayout=\"column\" fxLayoutAlign=\"center center\" class=\"min-h-[60vh] justify-center p-4 sm:p-1 xs:p-1 w-full\">\n    <div\n        *ngIf=\"!camera.isLoading && camera.hasPermissions && !camera.isLowQuality\"\n        class=\"justify-center w-full\"\n        fxLayout=\"column\"\n        fxLayoutAlign=\"center center\"\n    >\n        <div fxLayout=\"column\" fxLayoutAlign=\"center center\" class=\"justify-center text-center h-20 sm:h-8 xs:h-8 my-2\">\n            <div *ngIf=\"errorFace && !response.isLoading\" class=\"biometric__error\">\n                <div class=\"biometric__error-title\">{{ errorFace.title }}</div>\n                <div class=\"biometric__error-subtitle\">{{ errorFace.subtitle }}</div>\n            </div>\n        </div>\n\n        <div class=\"relative\" [style.width.px]=\"camera.dimensions.video.width\" [style.height.px]=\"camera.dimensions.video.height\">\n            <webcam\n                (imageCapture)=\"processImage($event)\"\n                (initError)=\"cameraError($event)\"\n                [allowCameraSwitch]=\"false\"\n                [captureImageData]=\"true\"\n                [height]=\"camera.dimensions.video.max.height\"\n                [imageQuality]=\"1\"\n                [trigger]=\"takePicture$\"\n                [videoOptions]=\"camera.configuration\"\n                [width]=\"camera.dimensions.video.max.width\"\n                *ngIf=\"!response.base64Image\"\n                #webcam\n                mirrorImage=\"always\"\n            ></webcam>\n\n            <canvas\n                [style.height.px]=\"response.base64Image ? camera.dimensions.result?.height : camera.dimensions.video.height\"\n                [style.width.px]=\"response.base64Image ? camera.dimensions.result?.width : camera.dimensions.video.width\"\n                #maskResult\n                class=\"absolute top-0 left-0\"\n            ></canvas>\n\n            <canvas #toSend hidden=\"true\"></canvas>\n        </div>\n    </div>\n\n    <div class=\"loader\" fxLayout=\"column\" fxLayoutAlign=\"center center\" *ngIf=\"response.base64Image || camera.isLoading\">\n        <zelf-loader [diameter]=\"120\"></zelf-loader>\n    </div>\n\n    <div fxLayout=\"column\" fxLayoutAlign=\"center center\" class=\"id-scanning-error-div\" *ngIf=\"!camera.isLoading && camera.isLowQuality\">\n        <img src=\"https://cdn.verifik.co/demo/nocameraenabled.svg\" alt=\"\" class=\"id-scanning-no-camera-enabled-img\" />\n\n        <h1 class=\"mt-4\">{{ \"id_scanning.camera_not_found\" | transloco }}</h1>\n\n        <p class=\"mt-4\">\n            {{ \"id_scanning.camera_not_found_description\" | transloco }}\n        </p>\n    </div>\n</div>\n","export enum FacingMode {\n\tENVIRONMENT = \"environment\",\n\tUSER = \"user\",\n\ttrue = \"environment\",\n\tfalse = \"user\",\n}\n\nexport interface CameraData {\n\thasPermissions: boolean;\n\tisLoading: boolean;\n\tisLowQuality?: boolean;\n\tconfiguration: {\n\t\tfacingMode: FacingMode;\n\t\tframeRate: { ideal: number; max: number };\n\t\theight?: { ideal: number };\n\t\twidth?: { ideal: number };\n\t};\n\tdimensions: {\n\t\treal?: {\n\t\t\theight: number;\n\t\t\twidth: number;\n\t\t\toffsetX: number;\n\t\t\toffsetY: number;\n\t\t};\n\t\tresult?: {\n\t\t\theight: number;\n\t\t\twidth: number;\n\t\t\toffsetX: number;\n\t\t\toffsetY: number;\n\t\t};\n\t\tvideo: {\n\t\t\tmax: {\n\t\t\t\theight: number;\n\t\t\t\twidth: number;\n\t\t\t};\n\t\t\theight?: number;\n\t\t\twidth?: number;\n\t\t};\n\t};\n}\n\nexport interface FaceData {\n\tlastFace?: any;\n\tminPixels: number;\n\tminHeight: number;\n\tsuccessPosition:number,\n\tthreshold: number;\n\treal?: OvalData;\n\tresult?: OvalData;\n\tvideo?: OvalData;\n}\n\nexport interface OvalData {\n\tcenter: {\n\t\tx: number;\n\t\ty: number;\n\t};\n\tradius: {\n\t\tx: number;\n\t\ty: number;\n\t};\n\tmargin: {\n\t\tx: number;\n\t\ty: number;\n\t};\n}\n\nexport interface ResponseData {\n\tisLoading: boolean;\n\tisFailed: boolean;\n\terror?: any;\n\tbase64Image?: string;\n}\n\nexport interface Attemps {\n\tcurrent: number;\n\tlimit: number;\n}\n\nexport interface Intervals {\n\tcheckNgxVideo?: any;\n\tdetectFace?: any;\n}\n\nexport interface ErrorFace {\n\ttitle: string;\n\tsubtitle: string;\n\tcanvas?: string;\n}\n\nexport interface IdCard {\n\t// image: string;\n\tface: string;\n}\n\nexport interface directionImage {\n\tleft: HTMLImageElement;\n\tright: HTMLImageElement;\n\tup: HTMLImageElement;\n\tdown: HTMLImageElement;\n}\n"],"names":["TranslocoModule","Subject","takeUntil","CommonModule","ReactiveFormsModule","MatButtonModule","RouterModule","ReserveDoneSheetComponent","WalletModel","WelcomeErrorComponent","ZelfLoaderComponent","BiometricsGeneralComponent","i0","ɵɵelement","ɵɵproperty","ɵɵelementContainerStart","ɵɵelementStart","ɵɵelementEnd","ɵɵtext","ɵɵlistener","SecurityBiometricsComponent_ng_container_0_ng_container_1_ng_container_2_ng_container_1_Template_button_click_17_listener","ɵɵrestoreView","_r1","ctx_r1","ɵɵnextContext","ɵɵresetView","startBiometrics","ɵɵadvance","ɵɵpureFunction0","_c0","ɵɵpureFunction1","_c1","returnState","ɵɵtextInterpolate","t_r3","isNew","ɵɵsanitizeHtml","form","ɵɵtextInterpolate1","SecurityBiometricsComponent_ng_container_0_ng_container_1_ng_container_2_ng_container_2_Template_biometrics_general_canNavigate_1_listener","$event","_r4","canNavigateAwayHandler","SecurityBiometricsComponent_ng_container_0_ng_container_1_ng_container_2_ng_container_2_Template_biometrics_general_error_1_listener","onBiometricsFailed","SecurityBiometricsComponent_ng_container_0_ng_container_1_ng_container_2_ng_container_2_Template_biometrics_general_imageCaptured_1_listener","onBiometricsScanned","ɵɵtemplate","SecurityBiometricsComponent_ng_container_0_ng_container_1_ng_container_2_ng_container_1_Template","SecurityBiometricsComponent_ng_container_0_ng_container_1_ng_container_2_ng_container_2_Template","showBiometrics","SecurityBiometricsComponent_ng_container_0_ng_container_1_zelf_loader_1_Template","SecurityBiometricsComponent_ng_container_0_ng_container_1_ng_container_2_Template","loading","SecurityBiometricsComponent_ng_container_0_ng_container_1_Template","SecurityBiometricsComponent_ng_container_1_Template_welcome_error_goBack_1_listener","_r5","goBack","errorTitle","errorMessage","SecurityBiometricsComponent","_activatedRoute","_bottomSheet","_chromeService","_errorService","_formBuilder","_httpWrapperService","_router","_translocoService","_vaultService","_walletService","_zelfNameService","unsubscriber$","_canNavigate","flow","newZelfName","zelfNameObject","zelfProof","constructor","_this","group","hideBiometricsCheckbox","snapshot","queryParams","return","pipe","subscribe","_ref","_asyncToGenerator","params","_x","apply","arguments","ngOnInit","_this2","getFlow","getNewZelfName","getItem","getZelfProof","getZelfNameObject","available","ngOnDestroy","next","complete","_createWallet","payload","_this3","mnemonicCount","getMnemonicCount","leaseZelfName","type","wordsCount","then","_ref2","response","removeItem","setItem","data","_redirect","_x2","catch","_decryptWallet","_this4","userFingerprint","getUserFingerprint","decryptZelfName","identifier","hash","_ref3","_x3","_importWallet","_this5","mnemonic","encryptMessage","_ref4","_x4","_leaseRecovery","_this6","zelfNameLeaseRecovery","_ref5","open","backdropClass","panelClass","zelfName","_x5","navigate","replaceUrl","canNavigateAway","canNavigate","exception","console","error","translate","translateErrorMessage","message","encryptedImage","_this7","getZelfName","referralZelfName","getReferral","faceBase64","os","password","_this8","controls","value","ɵɵdirectiveInject","i1","ActivatedRoute","i2","MatBottomSheet","i3","ChromeService","i4","ErrorService","i5","FormBuilder","i6","HttpWrapperService","Router","i7","TranslocoService","i8","VaultService","i9","WalletService","i10","ZelfNameService","selectors","decls","vars","consts","template","SecurityBiometricsComponent_Template","rf","ctx","SecurityBiometricsComponent_ng_container_0_Template","SecurityBiometricsComponent_ng_container_1_Template","SecurityBiometricsComponent_ng_template_2_Template","ɵɵtemplateRefExtractor","i11","NgIf","i12","MatButton","MatIconButton","ɵNgNoValidate","CheckboxControlValueAccessor","NgControlStatus","NgControlStatusGroup","FormGroupDirective","FormControlName","RouterLink","TranslocoDirective","styles","_defaultErrorMessage","key","fallbackErrorKey","formattedKey","translation","ɵɵinject","factory","ɵfac","providedIn","MAT_BOTTOM_SHEET_DATA","ReserveDoneSheetComponent_ng_container_0_Template_button_click_2_listener","goToWelcomeComplete","ReserveDoneSheetComponent_ng_container_0_Template_button_click_15_listener","ReserveDoneSheetComponent_ng_container_0_Template_button_click_17_listener","purchaseNow","_bottomSheetRef","dismiss","extraParams","externalUrl","MatBottomSheetRef","ReserveDoneSheetComponent_Template","ReserveDoneSheetComponent_ng_container_0_Template","faceapi","debounce","WebcamModule","EventEmitter","FlexLayoutModule","MatDialogModule","MatProgressBarModule","MatProgressSpinnerModule","FacingMode","ctx_r0","errorFace","title","subtitle","BiometricsGeneralComponent_div_1_webcam_4_Template_webcam_imageCapture_0_listener","_r2","processImage","BiometricsGeneralComponent_div_1_webcam_4_Template_webcam_initError_0_listener","cameraError","camera","dimensions","video","max","height","takePicture$","configuration","width","BiometricsGeneralComponent_div_1_div_2_Template","BiometricsGeneralComponent_div_1_webcam_4_Template","isLoading","ɵɵstyleProp","base64Image","result","ɵɵpipeBind1","_changeDetectorRef","_mediaStreamService","_renderer","maskResultCanvasRef","ToSendCanvasRef","webcamRef","imageCaptured","_resizeUnlisten","_debounceWindowResize","_intervals","_takePicture","debugIndex","debugText","isActiveDebug","aspectRatio","deviceData","direction","face","lastFace","marginX","marginY","getDeviceData","emit","_setMaxVideoDimensions","_startNgxVideoInterval","_startDefaultValues","listen","faceapi$","isLoaded","stopAllStreams","_killIntervals","cancel","asObservable","_calculateDisplayDimensions","isLandscape","window","innerHeight","innerWidth","maxAvailableHeight","Math","ceil","maxAvailableWidth","targetAspectRatio","maxHeight","min","calculatedWidth","round","maxWidth","_checkVideoStreamReady","videoNgx","nativeVideoElement","clearInterval","checkNgxVideo","addEventListener","_startFaceDetectionInterval","_setVideoDimensions","_drawOvalCenterAndMask","once","_detectFace","detectFace","videoDim","maskResultCanvas","nativeElement","getContext","clearRect","fillStyle","fillRect","globalCompositeOperation","center","radius","x","y","beginPath","ellipse","PI","fill","closePath","_drawStatusOval","isOk","lineWidth","strokeStyle","stroke","canvas","includes","startX","startY","drawImage","up","down","right","left","markForCheck","_emitBiometricCapture","_loading","replace","_getCenterAndRadius","margin","_inRange","_isFaceCentered","nose","faceCenterX","faceCenterY","real","inRangeX","inRangeY","isFaceCentered","_isFaceClose","landmarks","realDim","offsetX","totalFaceArea","imageHeight","imageWidth","totalImageArea","floor","faceProportion","threshold","minPixels","paramsLoading","start","setInterval","time","_setDefaultCamera","displayDimensions","hasPermissions","isLowQuality","ideal","facingMode","USER","frameRate","_setDefaultDirections","Image","crossOrigin","src","_setDefaultFace","minHeight","successPosition","_setDefaultResponse","isFailed","_setImageOnCanvas","inputImg","originalDim","resizeDim","style","marginLeft","marginTop","offsetY","Promise","resolve","setTimeout","undefined","videoResize","_setResultDimensions","videoElement","actualWidth","clientWidth","actualHeight","clientHeight","_takePictureLiveness","img","toSendCanvas","toDataURL","mediaStreamError","name","webcamImage","imageAsDataUrl","onload","detection","detectAllFaces","SsdMobilenetv1Options","minConfidence","withFaceLandmarks","context","willReadFrequently","length","getNose","alert","ChangeDetectorRef","MediaStreamService","Renderer2","viewQuery","BiometricsGeneralComponent_Query","BiometricsGeneralComponent_div_1_Template","BiometricsGeneralComponent_div_2_Template","BiometricsGeneralComponent_div_3_Template","DefaultLayoutDirective","DefaultLayoutAlignDirective","TranslocoPipe","WebcamComponent"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}