{"version":3,"file":"src_app_dashboard_zelf-keys-notes_zelf-keys-notes_component_ts.js","mappings":"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","sources":["./src/app/dashboard/zelf-keys-notes/zelf-keys-notes.component.ts","./src/app/dashboard/zelf-keys-notes/zelf-keys-notes.component.html"],"sourcesContent":["import { Component, OnInit, OnDestroy } from \"@angular/core\";\nimport { CommonModule } from \"@angular/common\";\nimport { TranslocoModule } from \"@jsverse/transloco\";\nimport { RouterModule, Router } from \"@angular/router\";\nimport { Subject, takeUntil } from \"rxjs\";\nimport { WalletService } from \"../../wallet.service\";\nimport { ChromeService } from \"../../chrome.service\";\nimport { DataCardComponent } from \"../shared/data-card.component\";\n\n@Component({\n\tselector: \"app-zelf-keys-notes\",\n\tstandalone: true,\n\timports: [CommonModule, TranslocoModule, RouterModule, DataCardComponent],\n\ttemplateUrl: \"./zelf-keys-notes.component.html\",\n\tstyleUrls: [\"./zelf-keys-notes.component.scss\"],\n})\nexport class ZelfKeysNotesComponent implements OnInit, OnDestroy {\n\tstoredNotes: any[] = [];\n\tloading = false;\n\terror: string | null = null;\n\tprivate destroy$ = new Subject<void>();\n\n\tconstructor(\n\t\tprivate router: Router,\n\t\tprivate walletService: WalletService,\n\t\tprivate chromeService: ChromeService\n\t) {}\n\n\tasync ngOnInit(): Promise<void> {\n\t\t// Ensure extension is in full screen mode for better user experience\n\t\tif (this.chromeService.isExtension) {\n\t\t\tawait this.chromeService.ensureFullScreen(\"dashboard/notes\");\n\t\t}\n\n\t\tthis.loadStoredNotes();\n\t}\n\n\tngOnDestroy(): void {\n\t\tthis.destroy$.next();\n\t\tthis.destroy$.complete();\n\t}\n\n\tasync loadStoredNotes(): Promise<void> {\n\t\tthis.loading = true;\n\t\tthis.error = null;\n\n\t\ttry {\n\t\t\tconst response = await this.walletService.listStoredNotes();\n\n\t\t\tconsole.log(\"Full notes response:\", response);\n\n\t\t\tif (response?.data && Array.isArray(response.data)) {\n\t\t\t\tthis.storedNotes = response.data;\n\t\t\t\tconsole.log(\"Stored notes:\", this.storedNotes);\n\t\t\t} else if (response?.data && Array.isArray(response.data.data)) {\n\t\t\t\t// Handle nested data structure\n\t\t\t\tthis.storedNotes = response.data.data;\n\t\t\t\tconsole.log(\"Stored notes (nested):\", this.storedNotes);\n\t\t\t} else {\n\t\t\t\tconsole.log(\"No valid data structure found in notes response\");\n\t\t\t\tthis.storedNotes = [];\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tconsole.error(\"Error loading stored notes:\", error);\n\t\t\tthis.error = \"Failed to load stored notes. Please try again.\";\n\t\t\tthis.storedNotes = [];\n\t\t} finally {\n\t\t\tthis.loading = false;\n\t\t}\n\t}\n\n\tonAddNote(): void {\n\t\tthis.router.navigate([\"/dashboard/notes/new\"]);\n\t}\n\n\tonRefresh(): void {\n\t\tthis.loadStoredNotes();\n\t}\n\n\tonNoteClick(note: any): void {\n\t\tconsole.log(\"Note clicked:\", note);\n\t\t// Navigate to note detail view or handle note action\n\t\t// this.router.navigate([\"/dashboard/notes/detail\"]);\n\t}\n\n\ttrackByNote(index: number, note: any): any {\n\t\treturn note.id || note.publicData?.id || index;\n\t}\n}\n","<div class=\"zelf-keys-notes\">\n\t<div class=\"notes-main-view\">\n\t\t<div class=\"header\">\n\t\t\t<h2>Notes</h2>\n\t\t\t<p>Manage your secure notes and key-value pairs</p>\n\t\t</div>\n\n\t\t<div class=\"content\">\n\t\t\t<!-- Loading State -->\n\t\t\t<div *ngIf=\"loading\" class=\"loading-state\">\n\t\t\t\t<div class=\"spinner\"></div>\n\t\t\t\t<p>Loading your notes...</p>\n\t\t\t</div>\n\n\t\t\t<!-- Error State -->\n\t\t\t<div *ngIf=\"error && !loading\" class=\"error-state\">\n\t\t\t\t<div class=\"icon\">⚠️</div>\n\t\t\t\t<h3>Error loading notes</h3>\n\t\t\t\t<p>{{ error }}</p>\n\t\t\t\t<button class=\"btn-secondary\" (click)=\"onRefresh()\">Try Again</button>\n\t\t\t</div>\n\n\t\t\t<!-- Empty State -->\n\t\t\t<div *ngIf=\"!loading && !error && storedNotes.length === 0\" class=\"empty-state\">\n\t\t\t\t<div class=\"empty-illustration\">\n\t\t\t\t\t<div class=\"notepad\">\n\t\t\t\t\t\t<div class=\"notepad-content\">\n\t\t\t\t\t\t\t<div class=\"notepad-line\"></div>\n\t\t\t\t\t\t\t<div class=\"notepad-line\"></div>\n\t\t\t\t\t\t\t<div class=\"notepad-line\"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"pencil\">\n\t\t\t\t\t\t<div class=\"pencil-body\"></div>\n\t\t\t\t\t\t<div class=\"pencil-tip\"></div>\n\t\t\t\t\t\t<div class=\"pencil-eraser\"></div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<h3>No notes yet</h3>\n\t\t\t\t<p>Start adding your notes to keep them secure and easily accessible</p>\n\t\t\t\t<button class=\"btn-primary\" (click)=\"onAddNote()\">Add Note</button>\n\t\t\t</div>\n\n\t\t\t<!-- Notes Grid -->\n\t\t\t<div *ngIf=\"!loading && !error && storedNotes.length > 0\" class=\"notes-grid\">\n\t\t\t\t<div class=\"list-header\">\n\t\t\t\t\t<h3>{{ storedNotes.length }} stored note{{ storedNotes.length !== 1 ? \"s\" : \"\" }}</h3>\n\t\t\t\t\t<button class=\"btn-secondary\" (click)=\"onRefresh()\">Refresh</button>\n\t\t\t\t</div>\n\n\t\t\t\t<div class=\"notes-cards\">\n\t\t\t\t\t<app-data-card\n\t\t\t\t\t\t*ngFor=\"let note of storedNotes; trackBy: trackByNote\"\n\t\t\t\t\t\t[item]=\"note\"\n\t\t\t\t\t\tcategory=\"notes\"\n\t\t\t\t\t\t(cardClick)=\"onNoteClick($event)\"\n\t\t\t\t\t\t(launchClick)=\"onNoteClick($event)\"\n\t\t\t\t\t\t(optionsClick)=\"onNoteClick($event)\"\n\t\t\t\t\t>\n\t\t\t\t\t</app-data-card>\n\t\t\t\t</div>\n\n\t\t\t\t<div class=\"add-more\">\n\t\t\t\t\t<button class=\"btn-primary\" (click)=\"onAddNote()\">Add Another Note</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n"],"names":["CommonModule","TranslocoModule","RouterModule","Subject","DataCardComponent","i0","ɵɵelementStart","ɵɵelement","ɵɵtext","ɵɵelementEnd","ɵɵlistener","ZelfKeysNotesComponent_div_9_Template_button_click_7_listener","ɵɵrestoreView","_r1","ctx_r1","ɵɵnextContext","ɵɵresetView","onRefresh","ɵɵadvance","ɵɵtextInterpolate","error","ZelfKeysNotesComponent_div_10_Template_button_click_15_listener","_r3","onAddNote","ZelfKeysNotesComponent_div_11_app_data_card_7_Template_app_data_card_cardClick_0_listener","$event","_r5","onNoteClick","ZelfKeysNotesComponent_div_11_app_data_card_7_Template_app_data_card_launchClick_0_listener","ZelfKeysNotesComponent_div_11_app_data_card_7_Template_app_data_card_optionsClick_0_listener","ɵɵproperty","note_r6","ZelfKeysNotesComponent_div_11_Template_button_click_4_listener","_r4","ɵɵtemplate","ZelfKeysNotesComponent_div_11_app_data_card_7_Template","ZelfKeysNotesComponent_div_11_Template_button_click_9_listener","ɵɵtextInterpolate2","storedNotes","length","trackByNote","ZelfKeysNotesComponent","router","walletService","chromeService","loading","destroy$","constructor","ngOnInit","_this","_asyncToGenerator","isExtension","ensureFullScreen","loadStoredNotes","ngOnDestroy","next","complete","_this2","response","listStoredNotes","console","log","data","Array","isArray","navigate","note","index","id","publicData","ɵɵdirectiveInject","i1","Router","i2","WalletService","i3","ChromeService","selectors","decls","vars","consts","template","ZelfKeysNotesComponent_Template","rf","ctx","ZelfKeysNotesComponent_div_8_Template","ZelfKeysNotesComponent_div_9_Template","ZelfKeysNotesComponent_div_10_Template","ZelfKeysNotesComponent_div_11_Template","i4","NgForOf","NgIf","styles"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}